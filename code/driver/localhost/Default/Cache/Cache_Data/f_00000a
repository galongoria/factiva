function camelCase(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})}!function(){function a(){function a(a){$("ins").each(function(){var a=$(this);a.is("#darktooltip-undefined")&&a.remove()});var b=$(".effectiveTxt").text()+" "+$(".updatedPrivacyPolicyAsOfDate").text();$(".newpp").darkTooltip({content:b}),b=$(".effectiveTxt").text()+" "+$(".updatedCookiePolicyAsOfDate").text(),$(".newcp").darkTooltip({content:b})}c(DowJones.Translate.currLang),b(DowJones.Translate.currLang);var d=new Date,e=d.getFullYear();$("#dataYear").text(e);var f=/(\d{4})(\d{2})(\d{2})/,g=(new Date(DowJones.Config.Settings.updatedCookiePolicyAsOfDate.replace(f,"$1-$2-$3")).getTime(),new Date(DowJones.Config.Settings.updatedCookiePolicyEndDate.replace(f,"$1-$2-$3")).getTime()),h=(new Date(DowJones.Config.Settings.updatedPrivacyPolicyAsOfDate.replace(f,"$1-$2-$3")).getTime(),new Date(DowJones.Config.Settings.updatedPrivacyPolicyEndDate.replace(f,"$1-$2-$3")).getTime()),i=DowJones.Config.Settings.serverDateTime,j=i<=h,k=i<=g;!1!==DowJones.Config.Settings.enableUpdatedPrivacyPolicy&&!1!==j||$(".newpp").hide(),!1!==DowJones.Config.Settings.enableUpdatedCookiePolicy&&!1!==k||$(".newcp").hide(),a(DowJones.Translate.currLang),$(".language-dropdown li div").on("click",function(){setTimeout(function(){a(DowJones.Translate.currLang)},100)});try{$(".newpp").darkTooltip({size:"small"}),$(".newcp").darkTooltip({size:"small"})}catch(a){}$(".language-dropdown li div").on("click",function(a){a.preventDefault();var b=$(this),d=b.find("a").attr("lang");c(d),"po"===d?DowJones.Translate.translate("en"):DowJones.Translate.translate(d),DowJones.Translate.currLang=d,$("body").trigger("changed-language",[DowJones.Translate.currLang])}),$(".hamburger--squeeze").on("click",function(){var a=$(this),b=$("#navigation1");b.hasClass("checked")?(b.removeClass("checked"),a.removeClass("is-active")):(b.addClass("checked"),a.addClass("is-active"))}),$("#navigation1 li").on("click",function(a){a.preventDefault();var b=$(this),d=b.find("a").attr("lang");if(b.find(".selected-lang").length>0)return!1;c(d,!0),DowJones.Translate.translate(d),DowJones.Translate.currLang=d,$("body").trigger("changed-language",[DowJones.Translate.currLang])}),$(".tab-wrapper").on("click",function(a){a.preventDefault(),a.stopPropagation();var b=$(".dropdown-submenu");return b.is(":visible")?b.hide():b.show(),!1}),$(document).on("click",function(a){a.stopPropagation(),$(".dropdown-submenu").hide()})}function b(a){var b=$("*[data-token]"),c=$("*[token-title]"),d=$("*[token-date]"),e=tokensTranslated;DowJones.Translate&&DowJones.Translate.DynamicTokens&&(e=$.extend(!0,{},e,DowJones.Translate.DynamicTokens)),b.each(function(){if(0===$(this)[0].childNodes.length)return void $(this).text(e[a][$(this).attr("data-token")]);for(var b=0;b<$(this)[0].childNodes.length;b++)if("#text"===$(this)[0].childNodes[b].nodeName){$(this)[0].childNodes[b].nodeValue=e[a][$(this).attr("data-token")];break}}),d.each(function(){if(0===$(this)[0].childNodes.length)return void $(this).text(e[a][$(this).attr("token-date")]);for(var b=0;b<$(this)[0].childNodes.length;b++)if("#text"===$(this)[0].childNodes[b].nodeName){$(this)[0].childNodes[b].nodeValue=e[a][$(this).attr("token-date")];break}}),c.each(function(){var b=$(this);b.attr("title",e[a][b.attr("token-title")])})}function c(a,b){b=b||!1;var c=$('.language-dropdown li *[lang="'+a+'"]');$("#language-label").text(c.text()),$(".language-dropdown li").show(),c.closest("li").hide(),$(".dropdown-submenu").hide(),$(".selected-lang").removeClass("selected-lang"),$('#navigation1 li *[lang="'+a+'"]').addClass("selected-lang").parent().parent().addClass("selected-lang"),b&&$(".hamburger--squeeze").click()}function d(a){return void 0===tokensTranslated[DowJones.Translate.currLang][a]?a:tokensTranslated[DowJones.Translate.currLang][a]}function e(a){switch(a){case"en-us":return"en";case"fr-fr":return"fr";case"de-de":return"de";case"es-es":return"es";case"it-it":return"it";case"ja-jp":return"ja";case"ru-ru":return"ru";case"zh-cn":return"zhcn";case"zh-tw":return"zhtw";case"pt-pt":return"pt";default:return"en"}}window.DowJones=window.DowJones||{},DowJones.Translate=function(){var c=DowJones.Config.parseUrlQuery(window.location.search.substr(1)),f=null;if(c.interfacelanguage)f=c.interfacelanguage;else if(c.ui_locales){var g=c.ui_locales,h=/^.*?(?=-x)/;h.test(g)&&(f=e(h.exec(g)[0]))}var i=DowJones.Config.Settings.languages.indexOf(f),j=DowJones.Config.Settings.languages&&i>-1?DowJones.Config.Settings.languages[i]:"";return{init:a,translate:b,translateToken:d,currLang:""!==j?j:"en"}}()}(),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.page=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(c){"use strict";function d(a,b){if("function"==typeof a)return d("*",a);if("function"==typeof b)for(var c=new h(a),e=1;e<arguments.length;++e)d.callbacks.push(c.middleware(arguments[e]));else"string"==typeof a?d["string"==typeof b?"redirect":"show"](a,b):d.start(a)}function e(a){if(!a.handled){var b;b=t?s+p.hash.replace("#!",""):p.pathname+p.search,b!==a.canonicalPath&&(d.stop(),a.handled=!1,p.href=a.canonicalPath)}}function f(a){return"string"!=typeof a?a:r?decodeURIComponent(a.replace(/\+/g," ")):a}function g(a,b){"/"===a[0]&&0!==a.indexOf(s)&&(a=s+(t?"#!":"")+a);var c=a.indexOf("?");if(this.canonicalPath=a,this.path=a.replace(s,"")||"/",t&&(this.path=this.path.replace("#!","")||"/"),this.title=document.title,this.state=b||{},this.state.path=a,this.querystring=~c?f(a.slice(c+1)):"",this.pathname=f(~c?a.slice(0,c):a),this.params={},this.hash="",!t){if(!~this.path.indexOf("#"))return;var d=this.path.split("#");this.path=d[0],this.hash=f(d[1])||"",this.querystring=this.querystring.split("#")[0]}}function h(a,b){b=b||{},this.path="*"===a?"(.*)":a,this.method="GET",this.regexp=l(this.path,this.keys=[],b.sensitive,b.strict)}function i(a){if(1===j(a)&&!(a.metaKey||a.ctrlKey||a.shiftKey||a.defaultPrevented)){for(var b=a.target;b&&"A"!==b.nodeName;)b=b.parentNode;if(b&&"A"===b.nodeName&&!b.hasAttribute("download")&&"external"!==b.getAttribute("rel")){var e=b.getAttribute("href");if((t||b.pathname!==p.pathname||!b.hash&&"#"!==e)&&!(e&&e.indexOf("mailto:")>-1)&&!b.target&&k(b.href)){var f=b.pathname+b.search+(b.hash||"");void 0!==c&&f.match(/^\/[a-zA-Z]:\//)&&(f=f.replace(/^\/[a-zA-Z]:\//,"/"));var g=f;0===f.indexOf(s)&&(f=f.substr(s.length)),t&&(f=f.replace("#!","")),s&&g===f||(a.preventDefault(),d.show(g))}}}}function j(a){return a=a||window.event,null===a.which?a.button:a.which}function k(a){var b=p.protocol+"//"+p.hostname;return p.port&&(b+=":"+p.port),a&&0===a.indexOf(b)}var l=a("path-to-regexp");b.exports=d,window.page=d;var m,n,o="undefined"!=typeof document&&document.ontouchstart?"touchstart":"click",p="undefined"!=typeof window&&(window.history.location||window.location),q=!0,r=!0,s="",t=!1;d.callbacks=[],d.exits=[],d.current="",d.len=0,d.base=function(a){if(0===arguments.length)return s;s=a},d.start=function(a){if(a=a||{},!m&&(m=!0,!1===a.dispatch&&(q=!1),!1===a.decodeURLComponents&&(r=!1),!1!==a.popstate&&window.addEventListener("popstate",u,!1),!1!==a.click&&document.addEventListener(o,i,!1),!0===a.hashbang&&(t=!0),q)){var b=t&&~p.hash.indexOf("#!")?p.hash.substr(2)+p.search:p.pathname+p.search+p.hash;d.replace(b,null,!0,q)}},d.stop=function(){m&&(d.current="",d.len=0,m=!1,document.removeEventListener(o,i,!1),window.removeEventListener("popstate",u,!1))},d.show=function(a,b,c,e){var f=new g(a,b);return d.current=f.path,!1!==c&&d.dispatch(f),!1!==f.handled&&!1!==e&&f.pushState(),f},d.back=function(a,b){d.len>0?(history.back(),d.len--):a?setTimeout(function(){d.show(a,b)}):setTimeout(function(){d.show(s,b)})},d.redirect=function(a,b){"string"==typeof a&&"string"==typeof b&&d(a,function(a){setTimeout(function(){d.replace(b)},0)}),"string"==typeof a&&void 0===b&&setTimeout(function(){d.replace(a)},0)},d.replace=function(a,b,c,e){var f=new g(a,b);return d.current=f.path,f.init=c,f.save(),!1!==e&&d.dispatch(f),f},d.dispatch=function(a){function b(){var a=d.exits[h++];if(!a)return c();a(f,b)}function c(){var b=d.callbacks[g++];return a.path!==d.current?void(a.handled=!1):b?void b(a,c):e(a)}var f=n,g=0,h=0;n=a,f?b():c()},d.exit=function(a,b){if("function"==typeof a)return d.exit("*",a);for(var c=new h(a),e=1;e<arguments.length;++e)d.exits.push(c.middleware(arguments[e]))},d.Context=g,g.prototype.pushState=function(){d.len++,$("html").hasClass("ie7")||history.pushState(this.state,this.title,t&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},g.prototype.save=function(){history.replaceState(this.state,this.title,t&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},d.Route=h,h.prototype.middleware=function(a){var b=this;return function(c,d){if(b.match(c.path,c.params))return a(c,d);d()}},h.prototype.match=function(a,b){var c=this.keys,d=a.indexOf("?"),e=~d?a.slice(0,d):a,g=this.regexp.exec(decodeURIComponent(e));if(!g)return!1;for(var h=1,i=g.length;h<i;++h){var j=c[h-1],k=f(g[h]);void 0===k&&hasOwnProperty.call(b,j.name)||(b[j.name]=k)}return!0};var u=function(){var a=!1;if("undefined"!=typeof window)return"complete"===document.readyState?a=!0:window.addEventListener("load",function(){setTimeout(function(){a=!0},0)}),function(b){if(a)if(b.state){var c=b.state.path;d.replace(c,b.state)}else d.show(p.pathname+p.hash,void 0,void 0,!1)}}();d.sameOrigin=k}).call(this,a("_process"))},{_process:2,"path-to-regexp":3}],2:[function(a,b,c){function d(){}var e=b.exports={};e.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.MutationObserver,c="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};var d=[];if(b){var e=document.createElement("div");return new MutationObserver(function(){var a=d.slice();d.length=0,a.forEach(function(a){a()})}).observe(e,{attributes:!0}),function(a){d.length||e.setAttribute("yes","no"),d.push(a)}}return c?(window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),d.length>0)){d.shift()()}},!0),function(a){d.push(a),window.postMessage("process-tick","*")}):function(a){setTimeout(a,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=d,e.addListener=d,e.once=d,e.off=d,e.removeListener=d,e.removeAllListeners=d,e.emit=d,e.binding=function(a){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(a){throw new Error("process.chdir is not supported")}},{}],3:[function(a,b,c){function d(a){for(var b,c=[],d=0,e=0,f="";null!=(b=q.exec(a));){var g=b[0],i=b[1],j=b.index;if(f+=a.slice(e,j),e=j+g.length,i)f+=i[1];else{f&&(c.push(f),f="");var k=b[2],l=b[3],m=b[4],n=b[5],o=b[6],p=b[7],r="+"===o||"*"===o,s="?"===o||"*"===o,t=k||"/",u=m||n||(p?".*":"[^"+t+"]+?");c.push({name:l||d++,prefix:k||"",delimiter:t,optional:s,repeat:r,pattern:h(u)})}}return e<a.length&&(f+=a.substr(e)),f&&c.push(f),c}function e(a){return f(d(a))}function f(a){for(var b=new Array(a.length),c=0;c<a.length;c++)"object"==typeof a[c]&&(b[c]=new RegExp("^"+a[c].pattern+"$"));return function(c){for(var d="",e=c||{},f=0;f<a.length;f++){var g=a[f];if("string"!=typeof g){var h,i=e[g.name];if(null==i){if(g.optional)continue;throw new TypeError('Expected "'+g.name+'" to be defined')}if(p(i)){if(!g.repeat)throw new TypeError('Expected "'+g.name+'" to not repeat, but received "'+i+'"');if(0===i.length){if(g.optional)continue;throw new TypeError('Expected "'+g.name+'" to not be empty')}for(var j=0;j<i.length;j++){if(h=encodeURIComponent(i[j]),!b[f].test(h))throw new TypeError('Expected all "'+g.name+'" to match "'+g.pattern+'", but received "'+h+'"');d+=(0===j?g.prefix:g.delimiter)+h}}else{if(h=encodeURIComponent(i),!b[f].test(h))throw new TypeError('Expected "'+g.name+'" to match "'+g.pattern+'", but received "'+h+'"');d+=g.prefix+h}}else d+=g}return d}}function g(a){return a.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function h(a){return a.replace(/([=!:$\/()])/g,"\\$1")}function i(a,b){return a.keys=b,a}function j(a){return a.sensitive?"":"i"}function k(a,b){var c=a.source.match(/\((?!\?)/g);if(c)for(var d=0;d<c.length;d++)b.push({name:d,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return i(a,b)}function l(a,b,c){for(var d=[],e=0;e<a.length;e++)d.push(o(a[e],b,c).source);return i(new RegExp("(?:"+d.join("|")+")",j(c)),b)}function m(a,b,c){for(var e=d(a),f=n(e,c),g=0;g<e.length;g++)"string"!=typeof e[g]&&b.push(e[g]);return i(f,b)}function n(a,b){b=b||{};for(var c=b.strict,d=!1!==b.end,e="",f=a[a.length-1],h="string"==typeof f&&/\/$/.test(f),i=0;i<a.length;i++){var k=a[i];if("string"==typeof k)e+=g(k);else{var l=g(k.prefix),m=k.pattern;k.repeat&&(m+="(?:"+l+m+")*"),m=k.optional?l?"(?:"+l+"("+m+"))?":"("+m+")?":l+"("+m+")",e+=m}}return c||(e=(h?e.slice(0,-2):e)+"(?:\\/(?=$))?"),e+=d?"$":c&&h?"":"(?=\\/|$)",new RegExp("^"+e,j(b))}function o(a,b,c){return b=b||[],p(b)?c||(c={}):(c=b,b=[]),a instanceof RegExp?k(a,b,c):p(a)?l(a,b,c):m(a,b,c)}var p=a("isarray");b.exports=o,b.exports.parse=d,b.exports.compile=e,b.exports.tokensToFunction=f,b.exports.tokensToRegExp=n;var q=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},{isarray:4}],4:[function(a,b,c){b.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}]},{},[1])(1)}),function(a){function b(a,b){this.bearer=a,this.options=b,this.hideEvent,this.mouseOverMode="hover"==this.options.trigger||"mouseover"==this.options.trigger||"onmouseover"==this.options.trigger}b.prototype={show:function(){var a=this;this.options.modal&&this.modalLayer.css("display","block"),this.tooltip.css("display","block"),a.mouseOverMode&&(this.tooltip.mouseover(function(){clearTimeout(a.hideEvent)}),this.tooltip.mouseout(function(){clearTimeout(a.hideEvent),a.hide()}))},hide:function(){var a=this;this.hideEvent=setTimeout(function(){a.tooltip.hide()},100),a.options.modal&&a.modalLayer.hide(),this.options.onClose()},toggle:function(){this.tooltip.is(":visible")?this.hide():this.show()},addAnimation:function(){switch(this.options.animation){case"none":break;case"fadeIn":this.tooltip.addClass("animated"),this.tooltip.addClass("fadeIn");break;case"flipIn":this.tooltip.addClass("animated"),this.tooltip.addClass("flipIn")}},setContent:function(){if(a(this.bearer).css("cursor","pointer"),this.options.content)this.content=this.options.content;else{if(!this.bearer.attr("data-tooltip"))return;this.content=this.bearer.attr("data-tooltip")}if("#"==this.content.charAt(0)){if(this.options.delete_content){var b=a(this.content).html();a(this.content).html(""),this.content=b,delete b}else a(this.content).hide(),this.content=a(this.content).html();this.contentType="html"}else this.contentType="text";tooltipId="",""!=this.bearer.attr("id")&&(tooltipId="id='darktooltip-"+this.bearer.attr("id")+"'"),this.modalLayer=a("<ins class='darktooltip-modal-layer'></ins>"),this.tooltip=a("<ins "+tooltipId+" class = 'dark-tooltip "+this.options.theme+" "+this.options.size+" "+this.options.gravity+"'><div>"+this.content+"</div><div class = 'tip'></div></ins>"),this.tip=this.tooltip.find(".tip"),a("body").append(this.modalLayer),a("body").append(this.tooltip),"html"==this.contentType&&this.tooltip.css("max-width","none"),this.tooltip.css("opacity",this.options.opacity),this.addAnimation(),this.options.confirm&&this.addConfirm()},setPositions:function(){var a=this.bearer.offset().left,b=this.bearer.offset().top;switch(this.options.gravity){case"south":a+=this.bearer.outerWidth()/2-this.tooltip.outerWidth()/2,b+=-this.tooltip.outerHeight()-this.tip.outerHeight()/2;break;case"west":a+=this.bearer.outerWidth()+this.tip.outerWidth()/2,b+=this.bearer.outerHeight()/2-this.tooltip.outerHeight()/2;break;case"north":a+=this.bearer.outerWidth()/2-this.tooltip.outerWidth()/2,b+=this.bearer.outerHeight()+this.tip.outerHeight()/2;break;case"east":a+=-this.tooltip.outerWidth()-this.tip.outerWidth()/2,b+=this.bearer.outerHeight()/2-this.tooltip.outerHeight()/2}this.options.autoLeft&&this.tooltip.css("left",a),this.options.autoTop&&this.tooltip.css("top",b)},setEvents:function(){var b,c=this,d=c.options.hoverDelay;c.mouseOverMode?this.bearer.mouseenter(function(){b=setTimeout(function(){c.setPositions(),c.show()},d)}).mouseleave(function(){clearTimeout(b),c.hide()}):"click"!=this.options.trigger&&"onclik"!=this.options.trigger||(this.tooltip.click(function(a){a.stopPropagation()}),this.bearer.click(function(a){a.preventDefault(),c.setPositions(),c.toggle(),a.stopPropagation()}),a("html").click(function(){c.hide()}))},activate:function(){this.setContent(),this.content&&this.setEvents()},addConfirm:function(){this.tooltip.append("<ul class = 'confirm'><li class = 'darktooltip-yes'>"+this.options.yes+"</li><li class = 'darktooltip-no'>"+this.options.no+"</li></ul>"),this.setConfirmEvents()},setConfirmEvents:function(){var a=this;this.tooltip.find("li.darktooltip-yes").click(function(b){a.onYes(),b.stopPropagation()}),this.tooltip.find("li.darktooltip-no").click(function(b){a.onNo(),b.stopPropagation()})},finalMessage:function(){if(this.options.finalMessage){var a=this;a.tooltip.find("div:first").html(this.options.finalMessage),a.tooltip.find("ul").remove(),a.setPositions(),setTimeout(function(){a.hide(),a.setContent()},a.options.finalMessageDuration)}else this.hide()},onYes:function(){this.options.onYes(this.bearer),this.finalMessage()},onNo:function(){this.options.onNo(this.bearer),this.hide()}},a.fn.darkTooltip=function(c){return this.each(function(){c=a.extend({},a.fn.darkTooltip.defaults,c),new b(a(this),c).activate()})},a.fn.darkTooltip.defaults={animation:"none",confirm:!1,content:"",finalMessage:"",finalMessageDuration:1e3,gravity:"south",hoverDelay:0,modal:!1,no:"No",onNo:function(){},onYes:function(){},opacity:.9,size:"medium",theme:"dark",trigger:"hover",yes:"Yes",autoTop:!0,autoLeft:!0,onClose:function(){}}}(jQuery),function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c||a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(){var a,b=-1,c=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?(a=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=a.exec(c)&&(b=parseFloat(RegExp.$1))):c.indexOf("Trident")>-1&&(a=new RegExp("rv:([0-9]{2,2}[.0-9]{0,})"),null!==a.exec(c)&&(b=parseFloat(RegExp.$1))),b}function e(a){var b="";for(var c in a)b+=c+"="+a[c]+",";return b.slice(0,-1)}function f(a,b){return!(!a||null==a[b])}function g(a,b){var c=a.status,e="string"==typeof a.responseText?a.responseText:a,f=10===d()||11===d(),g=!c||0===c,h=!!window.navigator.onLine;g&&!h?(c=0,e={code:"offline"}):g&&f?(c=401,e={code:"invalid_user_password"}):g&&(c=0,e={code:"connection_refused_timeout"}),b(new x(c,e))}function h(a,b,c){return a+"//"+b+c}function i(a){if(!(this instanceof i))return new i(a);l(a,"clientID"),l(a,"domain"),this._useJSONP=null!=a.forceJSONP?!!a.forceJSONP:y()&&!v("https:",a.domain),this._clientID=a.clientID,this._callbackURL=a.callbackURL||document.location.href,this._shouldRedirect=!!a.callbackURL,this._domain=a.domain,this._callbackOnLocationHash=a.callbackOnLocationHash,this._cordovaSocialPlugins={facebook:this._phonegapFacebookLogin},this._useCordovaSocialPlugins=a.useCordovaSocialPlugins,this._sendClientInfo=null==a.sendSDKClientInfo||a.sendSDKClientInfo}var j="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},k=a("./lib/base64_url"),l=a("./lib/assert_required"),m=a("./lib/is-array"),n=a("./lib/index-of"),o=a("qs"),p=a("xtend"),q=a("trim"),r=a("reqwest"),s=a("winchan"),t=a("jsonp"),u={param:"cbx",timeout:8e3,prefix:"__auth0jp"},v=a("./lib/same-origin"),w=a("./lib/json-parse"),x=a("./lib/LoginError"),y=a("./lib/use_jsonp");i.version=a("./version").str,i.clientInfo={name:"auth0.js",version:i.version},i.prototype.openWindow=function(a,b,c){return window.open(a,b,e(c))},i.prototype._redirect=function(a){j.window.location=a},i.prototype._getCallbackOnLocationHash=function(a){return a&&void 0!==a.callbackOnLocationHash?a.callbackOnLocationHash:this._callbackOnLocationHash},i.prototype._getCallbackURL=function(a){return a&&void 0!==a.callbackURL?a.callbackURL:this._callbackURL},i.prototype._getClientInfoString=function(){var a=JSON.stringify(i.clientInfo);return k.encode(a)},i.prototype._getClientInfoHeader=function(){return{"Auth0-Client":this._getClientInfoString()}},i.prototype._renderAndSubmitWSFedForm=function(a,b){var c=document.createElement("div");c.innerHTML=b;var d=document.body.appendChild(c).children[0],e=$("form[name=hiddenform] input[name=wctx]").val(),f=DowJones.Config.Settings.redirectUri;f=f.replace(/\_/g,"\\u002E");var g=e.match(/\"redirect_uri\":\"http[s]?:\/\/([^\/]+?)\/factivalogin\/callback.aspx[\?|\"].+/i);g&&g.length>1&&"https://global-beta-factiva-com.ezproxy.lib.utexas.edu/factivalogin/callback.aspx"!==g[1].toLowerCase()&&g[1].toLowerCase()!==f.toLowerCase()&&(e=e.replace(g[1],f),$("form[name=hiddenform] input[name=wctx]").val(e)),a.popup&&!this._getCallbackOnLocationHash(a)&&(d.target="auth0_signup_popup"),d.submit()},i.prototype._getResponseType=function(a){var b=config&&config.internalOptions.response_type?config.internalOptions.response_type:"";return/^(id_token|token|code)(\s+(id_token|token|code))*$/gi.test(b)?b.toLowerCase():this._getCallbackOnLocationHash(a)?"token":"code"},i.prototype._getMode=function(a){return{scope:"openid",response_type:this._getResponseType(a)}},i.prototype._configureOfflineMode=function(a){a.scope&&a.scope.indexOf("offline_access")>=0&&(a.device=a.device||"Browser")},i.prototype._getUserInfo=function(a,b,c){if(!a||a.user_id)return c(null,a);var d=this._domain,e=h("https:",d,"/tokeninfo"),f=function(a,b){var d=new Error(a+": "+(b||""));d.error=a,d.error_description=b,c(d)};return this._useJSONP?t(e+"?"+o.stringify({id_token:b}),u,function(a,b){return a?f(0,a.toString()):200===b.status?c(null,b.user):f(b.status,b.err||b.error)}):r({url:v("https:",d)?"/tokeninfo":e,method:"post",type:"json",crossOrigin:!v("https:",d),data:{id_token:b}}).fail(function(a){f(a.status,a.responseText)}).then(function(a){c(null,a)})},i.prototype.getProfile=function(a,b){if("function"!=typeof b)throw new Error("A callback function is required");if(!a||"string"!=typeof a)return b(new Error("Invalid token"));this._getUserInfo(this.decodeJwt(a),a,b)},i.prototype.validateUser=function(a,b){var c=this._domain,d="/public/api/users/validate_userpassword",e=h("https:",c,d),f=p(a,{client_id:this._clientID,username:q(a.username||a.email||"")});if(this._useJSONP)return t(e+"?"+o.stringify(f),u,function(a,c){return a?b(a):"error"in c&&404!==c.status?b(new Error(c.error)):void b(null,200===c.status)});r({url:v("https:",c)?d:e,method:"post",type:"text",data:f,crossOrigin:!v("https:",c),error:function(a){if(404!==a.status)return b(new Error(a.responseText));b(null,!1)},success:function(a){b(null,200===a.status)}})},i.prototype.decodeJwt=function(a){var b=a&&a.split(".")[1];return w(k.decode(b))},i.prototype.parseHash=function(a){a=a||window.location.hash;var b;if(a.match(/error/)){a=a.substr(1).replace(/^\//,""),b=o.parse(a);return{error:b.error,error_description:b.error_description}}if(!a.match(/access_token/))return null;a=a.substr(1).replace(/^\//,""),b=o.parse(a);var c=b.id_token,d=b.refresh_token,e=this.decodeJwt(c),f=function(a){return{error:"invalid_token",error_description:a}},g=m(e.aud)?e.aud:[e.aud];return-1===n(g,this._clientID)?f("The clientID configured ("+this._clientID+") does not match with the clientID set in the token ("+g.join(", ")+")."):e.iss&&e.iss!=="https://"+this._domain+"/"?f("The domain configured (https://"+this._domain+"/) does not match with the domain set in the token ("+e.iss+")."):{profile:e,id_token:c,access_token:b.access_token,state:b.state,refresh_token:d}},i.prototype.signup=function(a,b){function c(){return a.auto_login?e.login(a,b):"function"==typeof b?b():void 0}function d(a,c){var d=new x(a,c);if(j&&"function"==typeof j.kill&&j.kill(),"function"==typeof b)return b(d);throw d}var e=this,g={client_id:this._clientID,redirect_uri:this._getCallbackURL(a),username:q(a.username||""),email:q(a.email||a.username||""),tenant:this._domain.split(".")[0]},i=p(this._getMode(a),a,g);this._configureOfflineMode(i),f(a,"sso")||(a.sso=!0),f(a,"auto_login")||(a.auto_login=!0);var j;a.auto_login&&a.popup&&(!this._getCallbackOnLocationHash(a)||a.sso)&&(j=this._buildPopupWindow(a));var k=this._domain,l=h("https:",k,"/dbconnections/signup");if(this._useJSONP)return t(l+"?"+o.stringify(i),u,function(a,b){return a?d(0,a):200==b.status?c():d(b.status,b.err||b.error)});r({url:v("https:",k)?"/dbconnections/signup":l,method:"post",type:"html",data:i,success:c,crossOrigin:!v("https:",k),error:function(a){d(a.status,a.responseText)}})},i.prototype.changePassword=function(a,b){function c(a,c){var d=new x(a,c);if(b)return b(d)}var d={tenant:this._domain.split(".")[0],client_id:this._clientID,connection:a.connection,username:q(a.username||""),email:q(a.email||a.username||""),password:a.password},e=this._domain,f="/dbconnections/change_password",g=h("https:",e,f);if(this._useJSONP)return t(g+"?"+o.stringify(d),u,function(a,d){return a?c(0,a):200==d.status?b(null,d.message):c(d.status,d.err||d.error)});r({url:v("https:",e)?f:g,method:"post",type:"html",data:d,crossOrigin:!v("https:",e),error:function(a){c(a.status,a.responseText)},success:function(a){b(null,a)}})},i.prototype._buildAuthorizeQueryString=function(a,b){var c=this._buildAuthorizationParameters(a,b);return o.stringify(c)},i.prototype._buildAuthorizationParameters=function(a,b){var c=p.apply(null,a);this._configureOfflineMode(c),this._sendClientInfo&&(c.auth0Client=this._getClientInfoString()),b=b||["popup","popupOptions"];var d,e;for(d=0;d<b.length;d++)e=b[d],delete c[e];return c.connection_scope&&m(c.connection_scope)&&(c.connection_scope=c.connection_scope.join(",")),c},i.prototype.login=i.prototype.signin=function(a,b){return f(a,"sso")||(a.sso=!0),void 0!==a.passcode?this.loginWithPasscode(a,b):void 0!==a.username||void 0!==a.email?this.loginWithUsernamePassword(a,b):window.cordova||window.electron?this.loginPhonegap(a,b):a.popup&&this._getCallbackOnLocationHash(a)?this.loginWithPopup(a,b):void this._authorize(a)},i.prototype._authorize=function(a){var b=[this._getMode(a),a,{client_id:this._clientID,redirect_uri:this._getCallbackURL(a)}],c=this._buildAuthorizeQueryString(b),d=h("https:",this._domain,"/authorize?"+c);a.popup?this._buildPopupWindow(a,d):this._redirect(d)},i.prototype._computePopupPosition=function(a){a=a||{};var b=a.width||500,c=a.height||600,d=void 0!==window.screenX?window.screenX:window.screenLeft,e=void 0!==window.screenY?window.screenY:window.screenTop;return{width:b,height:c,left:d+((void 0!==window.outerWidth?window.outerWidth:document.body.clientWidth)-b)/2,top:e+((void 0!==window.outerHeight?window.outerHeight:document.body.clientHeight-22)-c)/2}},i.prototype.loginPhonegap=function(a,b){function c(a){if(!n)return b(new Error(a.message),null,null,null,null),n=!0,m.close()}function d(a){if(!(n||a.url&&0!==a.url.indexOf(f+"#")&&0!==a.url.indexOf(f+"?"))){var c=g.parseHash(a.url.slice(f.length));return c?c.id_token?(g.getProfile(c.id_token,function(a,d){b(a,d,c.id_token,c.access_token,c.state,c.refresh_token)}),n=!0,m.close()):(b(new Error(c.err||c.error||"Something went wrong"),null,null,null,null),n=!0,m.close()):(b(new Error("Error parsing hash"),null,null,null,null),n=!0,m.close())}}function e(){n||(b(new Error("Browser window closed"),null,null,null,null),m.removeEventListener("loaderror",c),m.removeEventListener("loadstart",d),m.removeEventListener("exit",e))}if(this._shouldAuthenticateWithCordovaPlugin(a.connection))return void this._socialPhonegapLogin(a,b);var f=h("https:",this._domain,"/mobile"),g=this,i=[this._getMode(a),a,{client_id:this._clientID,redirect_uri:f}];this._sendClientInfo&&i.push({auth0Client:this._getClientInfoString()});var j=this._buildAuthorizeQueryString(i),k=h("https:",this._domain,"/authorize?"+j),l=p({location:"yes"},a.popupOptions);delete l.width,delete l.height;var m=this.openWindow(k,"_blank",l),n=!1;m.addEventListener("loaderror",c),m.addEventListener("loadstart",d),m.addEventListener("exit",e)},i.prototype.loginWithPopup=function(a,b){var c=this;if(!b)throw new Error("popup mode should receive a mandatory callback");var d=[this._getMode(a),a,{client_id:this._clientID,owp:!0}];this._sendClientInfo&&d.push({auth0Client:this._getClientInfoString()});var f=this._buildAuthorizeQueryString(d),g=h("https:",this._domain,"/authorize?"+f),i=this._computePopupPosition(a.popupOptions),j=p(i,a.popupOptions);s.open({url:g,relay_url:"https://"+this._domain+"/relay.html",window_features:e(j)},function(a,d){return c._current_popup=null,a?b(new x(a),null,null,null,null,null):d?d.id_token?c.getProfile(d.id_token,function(a,c){b(a,c,d.id_token,d.access_token,d.state,d.refresh_token)}):d.err?b(new x(d.err.status,d.err.details||d.err),null,null,null,null,null):d.error?b(new x(d.status,d.details||d),null,null,null,null,null):b(new x("Something went wrong"),null,null,null,null,null):b(new x("Something went wrong"),null,null,null,null,null)}).focus()},i.prototype._shouldAuthenticateWithCordovaPlugin=function(a){var b=this._cordovaSocialPlugins[a];return this._useCordovaSocialPlugins&&!!b},i.prototype._socialPhonegapLogin=function(a,b){var c=this;(0,this._cordovaSocialPlugins[a.connection])(a.connection_scope,function(d,e,f){if(d)return void b(d,null,null,null,null);var g=p({access_token:e},a,f);c.loginWithSocialAccessToken(g,b)})},i.prototype._phonegapFacebookLogin=function(a,b){if(!window.facebookConnectPlugin||!window.facebookConnectPlugin.login)return void b(new Error("missing plugin phonegap-facebook-plugin"),null,null);var c;c=a&&m(a)?a:a?[a]:["public_profile"],window.facebookConnectPlugin.login(c,function(a){b(null,a.authResponse.accessToken,{})},function(a){b(new Error(a),null,null)})},i.prototype.loginWithUsernamePasswordAndSSO=function(a,b){var c=this,d=this._computePopupPosition(a.popupOptions),f=p(d,a.popupOptions),g={username:a.username,password:a.password,connection:a.connection,state:a.state,scope:a.scope};a._csrf&&(g._csrf=a._csrf),s.open({url:"https://"+this._domain+"/sso_dbconnection_popup/"+this._clientID,relay_url:"https://"+this._domain+"/relay.html",window_features:e(f),popup:this._current_popup,params:{domain:this._domain,clientID:this._clientID,options:g}},function(a,d){return c._current_popup=null,a?b(new x(a),null,null,null,null,null):d?d.id_token?c.getProfile(d.id_token,function(a,c){b(a,c,d.id_token,d.access_token,d.state,d.refresh_token)}):d.err?b(new x(d.err.status,d.err.details||d.err),null,null,null,null,null):d.error?b(new x(d.status,d.details||d),null,null,null,null,null):b(new x("Something went wrong"),null,null,null,null,null):b(new x("Something went wrong"),null,null,null,null,null)}).focus()},i.prototype.loginWithResourceOwner=function(a,b){function c(a,b){
d.getProfile(a.id_token,function(c,d){b(c,d,a.id_token,a.access_token,a.state,a.refresh_token)})}var d=this,e=p(this._getMode(a),a,{client_id:this._clientID,username:q(a.username||a.email||""),grant_type:"password"});this._configureOfflineMode(e);var f=this._domain,i=h("https:",f,"/oauth/ro");if(this._sendClientInfo&&this._useJSONP&&(e.auth0Client=this._getClientInfoString()),this._useJSONP)return t(i+"?"+o.stringify(e),u,function(a,d){if(a)return b(a);if("error"in d){var e=new x(d.status,d.error);return b(e)}c(d,b)});r({url:v("https:",f)?"/oauth/ro":i,method:"post",type:"json",data:e,headers:this._getClientInfoHeader(),crossOrigin:!v("https:",f),success:function(a){c(a,b)},error:function(a){g(a,b)}})},i.prototype.loginWithSocialAccessToken=function(a,b){function c(a,b){d.getProfile(a.id_token,function(c,d){b(c,d,a.id_token,a.access_token,a.state,a.refresh_token)})}var d=this,e=this._buildAuthorizationParameters([{scope:"openid"},a,{client_id:this._clientID}]),f=this._domain,i=h("https:",f,"/oauth/access_token");if(this._useJSONP)return t(i+"?"+o.stringify(e),u,function(a,d){if(a)return b(a);if("error"in d){var e=new x(d.status,d.error);return b(e)}c(d,b)});r({url:v("https:",f)?"/oauth/access_token":i,method:"post",type:"json",data:e,headers:this._getClientInfoHeader(),crossOrigin:!v("https:",f),success:function(a){c(a,b)},error:function(a){g(a,b)}})},i.prototype._buildPopupWindow=function(a,b){if(this._current_popup&&!this._current_popup.closed)return this._current_popup;b=b||"about:blank";var c=this,d={width:500,height:600},f=p(d,a.popupOptions||{}),g=e(f);if(this._current_popup=window.open(b,"auth0_signup_popup",g),!this._current_popup)throw new Error("Popup window cannot not been created. Disable popup blocker or make sure to call Auth0 login or singup on an UI event.");return this._current_popup.kill=function(){this.close(),c._current_popup=null},this._current_popup},i.prototype.loginWithUsernamePassword=function(a,b){function c(a){if(b)return b(a);throw a}if(b&&b.length>1&&(!a.sso||window.cordova))return this.loginWithResourceOwner(a,b);var d,e=this;if(a.popup&&!this._getCallbackOnLocationHash(a)&&(d=this._buildPopupWindow(a)),b&&b.length>1&&a.sso)return this.loginWithUsernamePasswordAndSSO(a,b);var f=p(this._getMode(a),a,{client_id:this._clientID,redirect_uri:this._getCallbackURL(a),username:q(a.username||a.email||""),tenant:this._domain.split(".")[0]});this._configureOfflineMode(f);var i=window.location.protocol,j=this._domain;-1===j.toLowerCase().indexOf(location.hostname)&&(j=location.hostname);var k=h(i,j,"/usernamepassword/login");if(this._useJSONP)return t(k+"?"+o.stringify(f),u,function(c,f){if(c)return d&&d.kill&&d.kill(),b(c);if("error"in f){d&&d.kill&&d.kill();var g=new x(f.status,f.error);return b(g)}e._renderAndSubmitWSFedForm(a,f.form)});r({url:v(i,j,window.location.port)?"/usernamepassword/login":k,method:"post",type:"html",data:f,headers:this._getClientInfoHeader(),crossOrigin:!v(i,j,window.location.port),success:function(b){$.cookie("LF")&&$.cookie("LF","0"),e._renderAndSubmitWSFedForm(a,b)},error:function(a){d&&d.kill&&d.kill(),g(a,c)}})},i.prototype.loginWithPasscode=function(a,b){if(null==a.email&&null==a.phoneNumber)throw new Error("email or phoneNumber is required for authentication");if(null==a.passcode)throw new Error("passcode is required for authentication");if(a.connection=null==a.email?"sms":"email",!this._shouldRedirect)return a=p(a,{username:null==a.email?a.phoneNumber:a.email,password:a.passcode,sso:!1}),delete a.email,delete a.phoneNumber,delete a.passcode,this.loginWithResourceOwner(a,b);var c={connection:a.connection};a.phoneNumber&&(a.phone_number=a.phoneNumber,delete a.phoneNumber,c.phone_number=a.phone_number),a.email&&(c.email=a.email),a.verification_code=a.passcode,delete a.passcode,c.verification_code=a.verification_code;var d=this;this._verify(c,function(c){if(c)return b(c);d._verify_redirect(a)})},i.prototype._verify=function(a,b){var c=this._domain,d=h("https:",c,"/passwordless/verify"),e=a;return this._useJSONP?(this._sendClientInfo&&(e.auth0Client=this._getClientInfoString()),t(d+"?"+o.stringify(e),u,function(a,c){return a?b(new Error("0: "+a.toString())):200===c.status?b(null,!0):b({status:c.status})})):r({url:v("https:",c)?"/passwordless/verify":d,method:"post",headers:this._getClientInfoHeader(),crossOrigin:!v("https:",c),data:e}).fail(function(a){try{b(JSON.parse(a.responseText))}catch(d){var c=new Error(a.status+"("+a.statusText+"): "+a.responseText);c.statusCode=a.status,c.error=a.statusText,c.message=a.responseText,b(c)}}).then(function(a){b(null,a)})},i.prototype._verify_redirect=function(a){var b=[this._getMode(a),a,{client_id:this._clientID,redirect_uri:this._getCallbackURL(a)}],c=this._buildAuthorizeQueryString(b),d=h("https:",this._domain,"/passwordless/verify_redirect?"+c);this._redirect(d)},i.prototype.renewIdToken=function(a,b){this.getDelegationToken({id_token:a,scope:"passthrough",api:"auth0"},b)},i.prototype.refreshToken=function(a,b){this.getDelegationToken({refresh_token:a,scope:"passthrough",api:"auth0"},b)},i.prototype.getDelegationToken=function(a,b){if(a=a||{},!a.id_token&&!a.refresh_token)throw new Error("You must send either an id_token or a refresh_token to get a delegation token.");var c=p({grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",client_id:this._clientID,target:a.targetClientId||this._clientID,api_type:a.api},a);delete c.hasOwnProperty,delete c.targetClientId,delete c.api;var e=this._domain,f=h("https:",e,"/delegation");if(this._useJSONP)return t(f+"?"+o.stringify(c),u,function(a,c){if(a)return b(a);if("error"in c){var d=new x(c.status,c.error_description||c.error);return b(d)}b(null,c)});r({url:v("https:",e)?"/delegation":f,method:"post",type:"json",data:c,crossOrigin:!v("https:",e),success:function(a){b(null,a)},error:function(a){try{b(JSON.parse(a.responseText))}catch(g){var c=a,e=10===d()||11===d(),f=!c.status||0===c.status;f&&!window.navigator.onLine?(c={},c.status=0,c.responseText={code:"offline"}):f&&e?(c={},c.status=401,c.responseText={code:"invalid_operation"}):f?(c={},c.status=0,c.responseText={code:"connection_refused_timeout"}):c.responseText=a,b(new x(c.status,c.responseText))}}})},i.prototype.logout=function(a){var b=h("https:",this._domain,"/logout");a&&(b+="?"+o.stringify(a)),this._redirect(b)},i.prototype.getSSOData=function(a,b){"function"==typeof a&&(b=a,a=!1);var c={sso:!1},d=this._domain,e=h("https:",d,"/user/ssodata"),f=v("https:",d),g={};if(a&&(g={ldaps:1,client_id:this._clientID}),this._useJSONP){var i=p({},u,{timeout:3e3});return g.auth0Client=this._getClientInfoString(),e+="?"+o.stringify(g),t(e,i,function(a,d){b(null,a?c:d)})}r({url:f?"/user/ssodata":e,method:"get",type:"json",data:g,crossOrigin:!f,withCredentials:!f,timeout:3e3}).fail(function(a){new Error("There was an error in the request that obtains the user's country").cause=a,b(null,c)}).then(function(a){b(null,a)})},i.prototype.getConnections=function(a){return t("https://"+this._domain+"/public/api/"+this._clientID+"/connections",u,a)},i.prototype.startPasswordless=function(a,b){if("object"!=typeof a)throw new Error("An options object is required");if("function"!=typeof b)throw new Error("A callback function is required");if(!a.email&&!a.phoneNumber)throw new Error("An `email` or a `phoneNumber` is required.");var c=this._domain,d=h("https:",c,"/passwordless/start"),e={client_id:this._clientID};return a.email?(e.email=a.email,e.connection="email",a.authParams&&(e.authParams=a.authParams),a.send&&"link"!==a.send||(e.authParams||(e.authParams={}),e.authParams.redirect_uri=this._callbackURL,e.authParams.response_type=this._shouldRedirect&&!this._callbackOnLocationHash?"code":"token"),a.send&&(e.send=a.send)):(e.phone_number=a.phoneNumber,e.connection="sms"),this._useJSONP?(this._sendClientInfo&&(e.auth0Client=this._getClientInfoString()),t(d+"?"+o.stringify(e),u,function(a,c){return a?b(new Error("0: "+a.toString())):200===c.status?b(null,!0):b(c.err||c.error)})):r({url:v("https:",c)?"/passwordless/start":d,method:"post",type:"json",headers:this._getClientInfoHeader(),crossOrigin:!v("https:",c),data:e}).fail(function(a){try{b(JSON.parse(a.responseText))}catch(d){var c=new Error(a.status+"("+a.statusText+"): "+a.responseText);c.statusCode=a.status,c.error=a.statusText,c.message=a.responseText,b(c)}}).then(function(a){b(null,a)})},i.prototype.requestMagicLink=function(a,b){return this.startPasswordless(a,b)},i.prototype.requestEmailCode=function(a,b){return a.send="code",this.startPasswordless(a,b)},i.prototype.verifyEmailCode=function(a,b){return a.passcode=a.code,delete a.code,this.login(a,b)},i.prototype.requestSMSCode=function(a,b){return this.startPasswordless(a,b)},i.prototype.verifySMSCode=function(a,b){return a.passcode=a.code,delete a.code,this.login(a,b)},b.exports=i,window.Auth0=i},{"./lib/LoginError":2,"./lib/assert_required":3,"./lib/base64_url":4,"./lib/index-of":5,"./lib/is-array":6,"./lib/json-parse":7,"./lib/same-origin":8,"./lib/use_jsonp":9,"./version":27,jsonp:12,qs:16,reqwest:17,trim:18,winchan:19,xtend:21}],2:[function(a,b,c){function d(a,b){var c;if("string"==typeof b)try{c=e(b)}catch(a){c={message:b}}else c=b||{description:"server error"};c.code||(c.code=c.error),"unauthorized"===c.code&&(a=401);var d=c.description||c.message||c.error;"PasswordStrengthError"===c.name&&(d="Password is not strong enough.");var f=Error.call(this,d);return f.status=a,f.name=c.code,f.code=c.code,f.details=c,0===a&&(f.code&&"offline"===f.code||(f.code="Unknown",f.message="Unknown error.")),f}var e=a("./json-parse");b.exports=d,Object&&Object.create&&(d.prototype=Object.create(Error.prototype,{constructor:{value:d}}))},{"./json-parse":7}],3:[function(a,b,c){function d(a,b){if(!a[b])throw new Error(b+" is required.")}b.exports=d},{}],4:[function(a,b,c){function d(a){return f.btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function e(a){return a+=Array(5-a.length%4).join("="),a=a.replace(/\-/g,"+").replace(/\_/g,"/"),f.atob(a)}var f=a("Base64");b.exports={encode:d,decode:e}},{Base64:10}],5:[function(a,b,c){function d(a,b,c){return a.indexOf(b,c)}function e(a,b,c){var d;if(null==a)throw new TypeError('"array" is null or not defined');var e=Object(a),f=e.length>>>0;if(0===f)return-1;var g=+c||0;if(Math.abs(g)===1/0&&(g=0),g>=f)return-1;for(d=Math.max(g>=0?g:f-Math.abs(g),0);d<f;){if(d in e&&e[d]===b)return d;d++}return-1}b.exports=Array.prototype.indexOf?d:e},{}],6:[function(a,b,c){function d(a){return"[object Array]"===e.call(a)}var e=Object.prototype.toString;b.exports=null!=Array.isArray?Array.isArray:d},{}],7:[function(a,b,c){b.exports=void 0===window.JSON?a("json-fallback").parse:window.JSON.parse},{"json-fallback":11}],8:[function(a,b,c){function d(a,b,c){return c=c||"",e===a&&f===b&&g===c}var e=window.location.protocol,f=window.location.hostname,g=window.location.port;b.exports=d},{}],9:[function(a,b,c){function d(){var a=window.XMLHttpRequest?new XMLHttpRequest:null;return!(a&&"withCredentials"in a)}b.exports=d},{}],10:[function(a,b,c){!function(){var a=void 0!==c?c:this,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=function(){try{document.createElement("$")}catch(a){return a}}();a.btoa||(a.btoa=function(a){for(var c,e,f=0,g=b,h="";a.charAt(0|f)||(g="=",f%1);h+=g.charAt(63&c>>8-f%1*8)){if((e=a.charCodeAt(f+=.75))>255)throw d;c=c<<8|e}return h}),a.atob||(a.atob=function(a){if(a=a.replace(/=+$/,""),a.length%4==1)throw d;for(var c,e,f=0,g=0,h="";e=a.charAt(g++);~e&&(c=f%4?64*c+e:e,f++%4)?h+=String.fromCharCode(255&c>>(-2*f&6)):0)e=b.indexOf(e);return h})}()},{}],11:[function(require,module,exports){var JSON={};!function(){"use strict";function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;c<f;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;c<f;c+=1)"string"==typeof rep[c]&&(d=rep[c],(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e);return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;d<c;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),module.exports=JSON},{}],12:[function(a,b,c){function d(){}function e(a,b,c){function e(){h.parentNode.removeChild(h),window[o]=d}"function"==typeof b&&(c=b,b={}),b||(b={});var h,i,j=b.prefix||"__jp",k=b.param||"callback",l=null!=b.timeout?b.timeout:6e4,m=encodeURIComponent,n=document.getElementsByTagName("script")[0]||document.head,o=j+g++;l&&(i=setTimeout(function(){e(),c&&c(new Error("Timeout"))},l)),window[o]=function(a){f("jsonp got",a),i&&clearTimeout(i),e(),c&&c(null,a)},a+=(~a.indexOf("?")?"&":"?")+k+"="+m(o),a=a.replace("?&","?"),f('jsonp req "%s"',a),h=document.createElement("script"),h.src=a,n.parentNode.insertBefore(h,n)}var f=a("debug")("jsonp");b.exports=e;var g=0},{debug:13}],13:[function(a,b,c){function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function e(){var a=arguments,b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),!b)return a;var d="color: "+this.color;a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1));var e=0,f=0;return a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d),a}function f(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(a){}}function h(){var a;try{a=c.storage.debug}catch(a){}return a}c=b.exports=a("./debug"),c.log=f,c.formatArgs=e,c.save=g,c.load=h,c.useColors=d,c.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(a){}}(),c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){return JSON.stringify(a)},c.enable(h())},{"./debug":14}],14:[function(a,b,c){function d(){return c.colors[k++%c.colors.length]}function e(a){function b(){}function e(){var a=e,b=+new Date,f=b-(j||b);a.diff=f,a.prev=j,a.curr=b,j=b,null==a.useColors&&(a.useColors=c.useColors()),null==a.color&&a.useColors&&(a.color=d());var g=Array.prototype.slice.call(arguments);g[0]=c.coerce(g[0]),"string"!=typeof g[0]&&(g=["%o"].concat(g));var h=0;g[0]=g[0].replace(/%([a-z%])/g,function(b,d){if("%%"===b)return b;h++;var e=c.formatters[d];if("function"==typeof e){var f=g[h];b=e.call(a,f),g.splice(h,1),h--}return b}),"function"==typeof c.formatArgs&&(g=c.formatArgs.apply(a,g)),(e.log||c.log||console.log.bind(console)).apply(a,g)}b.enabled=!1,e.enabled=!0;var f=c.enabled(a)?e:b;return f.namespace=a,f}function f(a){c.save(a);for(var b=(a||"").split(/[\s,]+/),d=b.length,e=0;e<d;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))}function g(){c.enable("")}function h(a){var b,d;for(b=0,d=c.skips.length;b<d;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;b<d;b++)if(c.names[b].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e,c.coerce=i,c.disable=g,c.enable=f,c.enabled=h,c.humanize=a("ms"),c.names=[],c.skips=[],c.formatters={};var j,k=0},{ms:15}],15:[function(a,b,c){function d(a){if(a=""+a,!(a.length>1e4)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c}}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;b.exports=function(a,b){return b=b||{},"string"==typeof a?d(a):b.long?f(a):e(a)}},{}],16:[function(a,b,c){function d(a,b){if(0==a[b].length)return a[b]={};var c={};for(var d in a[b])q.call(a[b],d)&&(c[d]=a[b][d]);return a[b]=c,c}function e(a,b,c,f){var g=a.shift();if(!q.call(Object.prototype,c))if(g){var h=b[c]=b[c]||[];"]"==g?s(h)?""!=f&&h.push(f):"object"==typeof h?h[t(h).length]=f:h=b[c]=[b[c],f]:~r(g,"]")?(g=g.substr(0,g.length-1),!w.test(g)&&s(h)&&(h=d(b,c)),e(a,h,g,f)):(!w.test(g)&&s(h)&&(h=d(b,c)),e(a,h,g,f))}else s(b[c])?b[c].push(f):"object"==typeof b[c]?b[c]=f:void 0===b[c]?b[c]=f:b[c]=[b[c],f]}function f(a,b,c){if(~r(b,"]")){var d=b.split("[");d.length;e(d,a,"base",c)}else{if(!w.test(b)&&s(a.base)){var f={};for(var g in a.base)f[g]=a.base[g];a.base=f}m(a.base,b,c)}return a}function g(a){if("object"!=typeof a)return a;if(s(a)){var b=[];for(var c in a)q.call(a,c)&&b.push(a[c]);return b}for(var d in a)a[d]=g(a[d]);return a}function h(a){var b={base:{}};return u(t(a),function(c){f(b,c,a[c])}),g(b.base)}function i(a,b){return g(v(String(a).split(b.separator),function(a,b){var c=r(b,"="),d=n(b),e=b.substr(0,d||c),g=b.substr(d||c,b.length),g=g.substr(r(g,"=")+1,g.length);return""==e&&(e=b,g=""),""==e?a:f(a,o(e),o(g))},{base:{}}).base)}function j(a,b){if(!b)throw new TypeError("stringify expects an object");return b+"="+encodeURIComponent(a)}function k(a,b){var c=[];if(!b)throw new TypeError("stringify expects an object");for(var d=0;d<a.length;d++)c.push(x(a[d],b+"["+d+"]"));return c.join("&")}function l(a,b){for(var c,d=[],e=t(a),f=0,g=e.length;f<g;++f)""!=(c=e[f])&&(null==a[c]?d.push(encodeURIComponent(c)+"="):d.push(x(a[c],b?b+"["+encodeURIComponent(c)+"]":encodeURIComponent(c))));return d.join("&")}function m(a,b,c){var d=a[b];q.call(Object.prototype,b)||(void 0===d?a[b]=c:s(d)?d.push(c):a[b]=[d,c])}function n(a){for(var b,c,d=a.length,e=0;e<d;++e)if(c=a[e],"]"==c&&(b=!1),"["==c&&(b=!0),"="==c&&!b)return e}function o(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}}var p=Object.prototype.toString,q=Object.prototype.hasOwnProperty,r="function"==typeof Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){"string"==typeof a&&void 0==="a"[0]&&(a=a.split(""));for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},s=Array.isArray||function(a){return"[object Array]"==p.call(a)},t=Object.keys||function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},u="function"==typeof Array.prototype.forEach?function(a,b){return a.forEach(b)}:function(a,b){for(var c=0;c<a.length;c++)b(a[c])},v=function(a,b,c){if("function"==typeof a.reduce)return a.reduce(b,c);for(var d=c,e=0;e<a.length;e++)d=b(d,a[e]);return d},w=/^[0-9]+$/;c.parse=function(a,b){return null==a||""==a?{}:(b=b||{},b.separator=b.separator||"&","object"==typeof a?h(a):i(a,b))};var x=c.stringify=function(a,b){return s(a)?k(a,b):"[object Object]"==p.call(a)?l(a,b):"string"==typeof a?j(a,b):b+"="+encodeURIComponent(String(a))}},{}],17:[function(require,module,exports){!function(a,b,c){void 0!==module&&module.exports?module.exports=c():"function"==typeof define&&define.amd?define(c):b.reqwest=c()}(0,this,function(){function succeed(a){var b=protocolRe.exec(a.url);return b=b&&b[1]||window.location.protocol,httpsRe.test(b)?twoHundo.test(a.request.status):!!a.request.response}function handleReadyState(a,b,c){return function(){return a._aborted?c(a.request):a._timedOut?c(a.request,"Request is aborted: timeout"):void(a.request&&4==a.request[readyState]&&(a.request.onreadystatechange=noop,succeed(a)?b(a.request):c(a.request)))}}function setHeaders(a,b){var c,d=b.headers||{};d.Accept=d.Accept||defaultHeaders.accept[b.type]||defaultHeaders.accept["*"];var e="function"==typeof FormData&&b.data instanceof FormData;b.crossOrigin||d[requestedWith]||(d[requestedWith]=defaultHeaders.requestedWith),d[contentType]||e||(d[contentType]=b.contentType||defaultHeaders.contentType);for(c in d)d.hasOwnProperty(c)&&"setRequestHeader"in a&&a.setRequestHeader(c,d[c])}function setCredentials(a,b){void 0!==b.withCredentials&&void 0!==a.withCredentials&&(a.withCredentials=!!b.withCredentials)}function generalCallback(a){lastValue=a}function urlappend(a,b){return a+(/\?/.test(a)?"&":"?")+b}function handleJsonp(a,b,c,d){var e=uniqid++,f=a.jsonpCallback||"callback",g=a.jsonpCallbackName||reqwest.getcallbackPrefix(e),h=new RegExp("((^|\\?|&)"+f+")=([^&]+)"),i=d.match(h),j=doc.createElement("script"),k=0,l=-1!==navigator.userAgent.indexOf("MSIE 10.0");return i?"?"===i[3]?d=d.replace(h,"$1="+g):g=i[3]:d=urlappend(d,f+"="+g),win[g]=generalCallback,j.type="text/javascript",j.src=d,j.async=!0,void 0===j.onreadystatechange||l||(j.htmlFor=j.id="_reqwest_"+e),j.onload=j.onreadystatechange=function(){if(j[readyState]&&"complete"!==j[readyState]&&"loaded"!==j[readyState]||k)return!1;j.onload=j.onreadystatechange=null,j.onclick&&j.onclick(),b(lastValue),lastValue=void 0,head.removeChild(j),k=1},head.appendChild(j),{abort:function(){j.onload=j.onreadystatechange=null,c({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(j),k=1}}}function getRequest(a,b){var c,d=this.o,e=(d.method||"GET").toUpperCase(),f="string"==typeof d?d:d.url,g=!1!==d.processData&&d.data&&"string"!=typeof d.data?reqwest.toQueryString(d.data):d.data||null,h=!1;return"jsonp"!=d.type&&"GET"!=e||!g||(f=urlappend(f,g),g=null),"jsonp"==d.type?handleJsonp(d,a,b,f):(c=d.xhr&&d.xhr(d)||xhr(d),c.open(e,f,!1!==d.async),setHeaders(c,d),setCredentials(c,d),win[xDomainRequest]&&c instanceof win[xDomainRequest]?(c.onload=a,c.onerror=b,c.onprogress=function(){},h=!0):c.onreadystatechange=handleReadyState(this,a,b),d.before&&d.before(c),h?setTimeout(function(){c.send(g)},200):c.send(g),c)}function Reqwest(a,b){this.o=a,this.fn=b,init.apply(this,arguments)}function setType(a){return a.match("json")?"json":a.match("javascript")?"js":a.match("text")?"html":a.match("xml")?"xml":void 0}function init(o,fn){function complete(a){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(a)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(a){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(a){return error(resp,"Could not parse JSON in response",a)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(a,b,c){for(a=self.request,self._responseArgs.resp=a,self._responseArgs.msg=b,self._responseArgs.t=c,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(a,b,c);complete(a)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(a,b){return new Reqwest(a,b)}function normalize(a){return a?a.replace(/\r?\n/g,"\r\n"):""}function serial(a,b){var c,d,e,f,g=a.name,h=a.tagName.toLowerCase(),i=function(a){a&&!a.disabled&&b(g,normalize(a.attributes.value&&a.attributes.value.specified?a.value:a.text))};if(!a.disabled&&g)switch(h){case"input":/reset|button|image|file/i.test(a.type)||(c=/checkbox/i.test(a.type),d=/radio/i.test(a.type),e=a.value,(!(c||d)||a.checked)&&b(g,normalize(c&&""===e?"on":e)));break;case"textarea":b(g,normalize(a.value));break;case"select":if("select-one"===a.type.toLowerCase())i(a.selectedIndex>=0?a.options[a.selectedIndex]:null);else for(f=0;a.length&&f<a.length;f++)a.options[f].selected&&i(a.options[f])}}function eachFormElement(){var a,b,c=this;for(b=0;b<arguments.length;b++)a=arguments[b],/input|select|textarea/i.test(a.tagName)&&serial(a,c),function(a,b){var d,e,f;for(d=0;d<b.length;d++)for(f=a[byTag](b[d]),e=0;e<f.length;e++)serial(f[e],c)}(a,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var a={};return eachFormElement.apply(function(b,c){b in a?(a[b]&&!isArray(a[b])&&(a[b]=[a[b]]),a[b].push(c)):a[b]=c},arguments),a}function buildParams(a,b,c,d){var e,f,g,h=/\[\]$/;if(isArray(b))for(f=0;b&&f<b.length;f++)g=b[f],c||h.test(a)?d(a,g):buildParams(a+"["+("object"==typeof g?f:"")+"]",g,c,d);else if(b&&"[object Object]"===b.toString())for(e in b)buildParams(a+"["+e+"]",b[e],c,d);else d(a,b)}var win=window,doc=document,httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:"XMLHttpRequest",accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(a){if(!0===a.crossOrigin){var b=win.XMLHttpRequest?new XMLHttpRequest:null;if(b&&"withCredentials"in b)return b;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(a){return a}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(a,b){return a=a||function(){},b=b||function(){},this._fulfilled?this._responseArgs.resp=a(this._responseArgs.resp):this._erred?b(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(a),this._errorHandlers.push(b)),this},always:function(a){return this._fulfilled||this._erred?a(this._responseArgs.resp):this._completeHandlers.push(a),this},fail:function(a){return this._erred?a(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(a),this},catch:function(a){return this.fail(a)}},reqwest.serializeArray=function(){var a=[];return eachFormElement.apply(function(b,c){a.push({name:b,value:c})},arguments),a},reqwest.serialize=function(){if(0===arguments.length)return"";var a,b,c=Array.prototype.slice.call(arguments,0);return a=c.pop(),a&&a.nodeType&&c.push(a)&&(a=null),a&&(a=a.type),b="map"==a?serializeHash:"array"==a?reqwest.serializeArray:serializeQueryString,b.apply(null,c)},reqwest.toQueryString=function(a,b){var c,d,e=b||!1,f=[],g=encodeURIComponent,h=function(a,b){b="function"==typeof b?b():null==b?"":b,f[f.length]=g(a)+"="+g(b)};if(isArray(a))for(d=0;a&&d<a.length;d++)h(a[d].name,a[d].value);else for(c in a)a.hasOwnProperty(c)&&buildParams(c,a[c],e,h);return f.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(a,b){return a&&(a.type&&(a.method=a.type)&&delete a.type,a.dataType&&(a.type=a.dataType),a.jsonpCallback&&(a.jsonpCallbackName=a.jsonpCallback)&&delete a.jsonpCallback,a.jsonp&&(a.jsonpCallback=a.jsonp)),new Reqwest(a,b)},reqwest.ajaxSetup=function(a){a=a||{};for(var b in a)globalSetupOptions[b]=a[b]},reqwest})},{}],18:[function(a,b,c){function d(a){return a.replace(/^\s*|\s*$/g,"")}c=b.exports=d,c.left=function(a){return a.replace(/^\s*/,"")},c.right=function(a){return a.replace(/\s*$/,"")}},{}],19:[function(a,b,c){var d=function(){function a(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function b(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}function c(){try{var a=navigator.userAgent;return-1!=a.indexOf("Fennec/")||-1!=a.indexOf("Firefox/")&&-1!=a.indexOf("Android")}catch(a){}return!1}function d(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function e(){for(var a=(window.location,window.opener.frames),b=a.length-1;b>=0;b--)try{
if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&a[b].name===f)return a[b]}catch(a){}}var f="__winchan_relay_frame",g="die",h=function(){if("undefined"==typeof navigator)return!1;var a=-1,b=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){var c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}else if(b.indexOf("Trident")>-1){var c=new RegExp("rv:([0-9]{2,2}[.0-9]{0,})");null!==c.exec(b)&&(a=parseFloat(RegExp.$1))}return a>=8}();return function(){return"undefined"!=typeof window&&window.JSON&&window.JSON.stringify&&window.JSON.parse&&window.postMessage}()?{open:function(e,i){function j(){if(m&&document.body.removeChild(m),m=void 0,q&&(q=clearInterval(q)),b(window,"message",k),b(window,"unload",j),p)try{p.close()}catch(a){o.postMessage(g,n)}p=o=void 0}function k(a){if(a.origin===n)try{var b=JSON.parse(a.data);"ready"===b.a?o.postMessage(r,n):"error"===b.a?(j(),i&&(i(b.d),i=null)):"response"===b.a&&(j(),i&&(i(null,b.d),i=null))}catch(a){}}if(!i)throw"missing required callback argument";var l;e.url||(l="missing required 'url' parameter"),e.relay_url||(l="missing required 'relay_url' parameter"),l&&setTimeout(function(){i(l)},0),e.window_name||(e.window_name=null),e.window_features&&!c()||(e.window_features=void 0);var m,n=d(e.url);if(n!==d(e.relay_url))return setTimeout(function(){i("invalid arguments: origin of url and relay_url must match")},0);var o;h&&(m=document.createElement("iframe"),m.setAttribute("src",e.relay_url),m.style.display="none",m.setAttribute("name",f),document.body.appendChild(m),o=m.contentWindow);var p=e.popup||window.open(e.url,e.window_name,e.window_features);e.popup&&(p.location.href=e.url),o||(o=p);var q=setInterval(function(){p&&p.closed&&(j(),i&&(i("User closed the popup window"),i=null))},500),r=JSON.stringify({a:"request",d:e.params});return a(window,"unload",j),a(window,"message",k),{close:j,focus:function(){if(p)try{p.focus()}catch(a){}}}},onOpen:function(c){function d(a){a=JSON.stringify(a),h?k.doPost(a,j):k.postMessage(a,j)}function f(a){var e;try{e=JSON.parse(a.data)}catch(a){}e&&"request"===e.a&&(b(window,"message",f),j=a.origin,c&&setTimeout(function(){c(j,e.d,function(a){c=void 0,d({a:"response",d:a})})},0))}function i(a){if(a.data===g)try{window.close()}catch(a){}}var j="*",k=h?e():window.opener;if(!k)throw"can't find relay frame";a(h?k:window,"message",f),a(h?k:window,"message",i);try{d({a:"ready"})}catch(b){a(k,"load",function(a){d({a:"ready"})})}var l=function(){try{b(h?k:window,"message",i)}catch(a){}c&&d({a:"error",d:"client closed window"}),c=void 0;try{window.close()}catch(a){}};return a(window,"unload",l),{detach:function(){b(window,"unload",l)}}}}:{open:function(a,b,c,d){setTimeout(function(){d("unsupported browser")},0)},onOpen:function(a){setTimeout(function(){a("unsupported browser")},0)}}}();void 0!==b&&b.exports&&(b.exports=d)},{}],20:[function(a,b,c){function d(a){return null!==a&&("object"==typeof a||"function"==typeof a)}b.exports=d},{}],21:[function(a,b,c){function d(){for(var a={},b=0;b<arguments.length;b++){var c=arguments[b];if(f(c))for(var d=e(c),g=0;g<d.length;g++){var h=d[g];a[h]=c[h]}}return a}var e=a("object-keys"),f=a("./has-keys");b.exports=d},{"./has-keys":20,"object-keys":23}],22:[function(a,b,c){var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString,f=function(a){var b="function"==typeof a&&!(a instanceof RegExp)||"[object Function]"===e.call(a);return b||"undefined"==typeof window||(b=a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt),b};b.exports=function(a,b){if(!f(b))throw new TypeError("iterator must be a function");var c,e,g="string"==typeof a,h=a.length,i=arguments.length>2?arguments[2]:null;if(h===+h)for(c=0;c<h;c++)null===i?b(g?a.charAt(c):a[c],c,a):b.call(i,g?a.charAt(c):a[c],c,a);else for(e in a)d.call(a,e)&&(null===i?b(a[e],e,a):b.call(i,a[e],e,a))}},{}],23:[function(a,b,c){b.exports=Object.keys||a("./shim")},{"./shim":25}],24:[function(a,b,c){var d=Object.prototype.toString;b.exports=function(a){var b=d.call(a),c="[object Arguments]"===b;return c||(c="[object Array]"!==b&&null!==a&&"object"==typeof a&&"number"==typeof a.length&&a.length>=0&&"[object Function]"===d.call(a.callee)),c}},{}],25:[function(a,b,c){!function(){"use strict";var c,d=Object.prototype.hasOwnProperty,e=Object.prototype.toString,f=a("./foreach"),g=a("./isArguments"),h=!{toString:null}.propertyIsEnumerable("toString"),i=function(){}.propertyIsEnumerable("prototype"),j=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];c=function(a){var b=null!==a&&"object"==typeof a,c="[object Function]"===e.call(a),k=g(a),l=[];if(!b&&!c&&!k)throw new TypeError("Object.keys called on a non-object");if(k)f(a,function(a){l.push(a)});else{var m,n=i&&c;for(m in a)n&&"prototype"===m||!d.call(a,m)||l.push(m)}if(h){var o=a.constructor,p=o&&o.prototype===a;f(j,function(b){p&&"constructor"===b||!d.call(a,b)||l.push(b)})}return l},b.exports=c}()},{"./foreach":22,"./isArguments":24}],26:[function(a,b,c){var d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e=a("./index");"function"==typeof d.window.define&&d.window.define.amd?d.window.define("auth0",function(){return e}):d.window&&(d.window.Auth0=e)},{"./index":1}],27:[function(a,b,c){b.exports={str:"6.8.4"}},{}]},{},[26]);var Base64={};Base64.code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Base64.encode=function(a,b){b=void 0!==b&&b;var c,d,e,f,g,h,i,j,k,l,m,n=[],o="",p=Base64.code;if(l=b?Utf8.encode(a):a,(k=l.length%3)>0)for(;k++<3;)o+="=",l+="\0";for(k=0;k<l.length;k+=3)c=l.charCodeAt(k),d=l.charCodeAt(k+1),e=l.charCodeAt(k+2),f=c<<16|d<<8|e,g=f>>18&63,h=f>>12&63,i=f>>6&63,j=63&f,n[k/3]=p.charAt(g)+p.charAt(h)+p.charAt(i)+p.charAt(j);return m=n.join(""),m=m.slice(0,m.length-o.length)+o},Base64.decode=function(a,b){b=void 0!==b&&b;var c,d,e,f,g,h,i,j,k,l,m=[],n=Base64.code;l=b?Utf8.decode(a):a;for(var o=0;o<l.length;o+=4)f=n.indexOf(l.charAt(o)),g=n.indexOf(l.charAt(o+1)),h=n.indexOf(l.charAt(o+2)),i=n.indexOf(l.charAt(o+3)),j=f<<18|g<<12|h<<6|i,c=j>>>16&255,d=j>>>8&255,e=255&j,m[o/4]=String.fromCharCode(c,d,e),64==i&&(m[o/4]=String.fromCharCode(c,d)),64==h&&(m[o/4]=String.fromCharCode(c));return k=m.join(""),b?Utf8.decode(k):k},function(a){if("function"==typeof define&&define.amd){var b="[history"+(new Date).getTime()+"]",c=requirejs.onError;a.toString=function(){return b},requirejs.onError=function(a){-1===a.message.indexOf(b)&&c.call(requirejs,a)},define([],a)}"object"!=typeof exports||"undefined"==typeof module?a():module.exports=a()}(function(){function a(a,b){var c=s.history!==z;c&&(s.history=z),a.apply(z,b),c&&(s.history=A)}function b(){}function c(a,b,d){if(a==q||""===a||b)a=b?a:y.href,(!D||d)&&(a=a.replace(/^[^#]*/,"")||"#",a=y.protocol.replace(/:.*$|$/,":")+"//"+y.host+O.basepath+a.replace(RegExp("^#[/]?(?:"+O.type+")?"),""));else{var b=c(),e=u.getElementsByTagName("base")[0];!d&&e&&e.getAttribute("href")&&(e.href=e.href,b=c(e.href,q,p)),d=b.d,e=b.h,a=""+a,a=/^(?:\w+\:)?\/\//.test(a)?0===a.indexOf("/")?e+a:a:e+"//"+b.g+(0===a.indexOf("/")?a:0===a.indexOf("?")?d+a:0===a.indexOf("#")?d+b.e+a:d.replace(/[^\/]+$/g,"")+a)}Q.href=a;var a=/(?:([a-zA-Z0-9\-]+\:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/.exec(Q.href),b=a[2]+(a[3]?":"+a[3]:""),d=a[4]||"/",e=a[5]||"",f="#"===a[6]?"":a[6]||"",g=d+e+f,h=d.replace(RegExp("^"+O.basepath,"i"),O.type)+e;return{b:a[1]+"//"+b+g,h:a[1],g:b,i:a[2],k:a[3]||"",d:d,e:e,a:f,c:g,j:h,f:h+f}}function d(){var a;try{a=s.sessionStorage,a.setItem(P+"t","1"),a.removeItem(P+"t")}catch(b){a={getItem:function(a){return a=u.cookie.split(a+"="),1<a.length&&a.pop().split(";").shift()||"null"},setItem:function(a){var b={};(b[y.href]=A.state)&&(u.cookie=a+"="+x.stringify(b))}}}try{W=x.parse(a.getItem(P))||{}}catch(a){W={}}L(H+"unload",function(){a.setItem(P,x.stringify(W))},r)}function e(a,c,d,e){var f=0;d||(d={set:b},f=1);var g=!d.set,h=!d.get,i={configurable:p,set:function(){g=1},get:function(){h=1}};try{F(a,c,i),a[c]=a[c],F(a,c,d)}catch(a){}if(!(g&&h||(a.__defineGetter__&&(a.__defineGetter__(c,i.get),a.__defineSetter__(c,i.set),a[c]=a[c],d.get&&a.__defineGetter__(c,d.get),d.set&&a.__defineSetter__(c,d.set)),g&&h))){if(f)return r;if(a===s){try{var j=a[c];a[c]=q}catch(a){}if("execScript"in s)s.execScript("Public "+c,"VBScript"),s.execScript("var "+c+";","JavaScript");else try{F(a,c,{value:b})}catch(b){"onpopstate"===c&&(L("popstate",d=function(){M("popstate",d,r);var b=a.onpopstate;a.onpopstate=q,setTimeout(function(){a.onpopstate=b},1)},r),T=0)}a[c]=j}else try{try{var k=w.create(a);F(w.getPrototypeOf(k)===a?k:a,c,d);for(var l in a)"function"==typeof a[l]&&(k[l]=a[l].bind(a));try{e.call(k,k,a)}catch(a){}a=k}catch(b){F(a.constructor.prototype,c,d)}}catch(a){return r}}return a}function f(a,b,c){return c=c||{},a=a===_?y:a,c.set=c.set||function(c){a[b]=c},c.get=c.get||function(){return a[b]},c}function g(a,b,c){a in X?X[a].push(b):3<arguments.length?L(a,b,c,arguments[3]):L(a,b,c)}function h(a,b,c){var d=X[a];if(d){for(a=d.length;a--;)if(d[a]===b){d.splice(a,1);break}}else M(a,b,c)}function i(a,c){var d=(""+("string"==typeof a?a:a.type)).replace(/^on/,""),f=X[d];if(f){if(c="string"==typeof a?c:a,c.target==q)for(var g=["target","currentTarget","srcElement","type"];a=g.pop();)c=e(c,a,{get:"type"===a?function(){return d}:function(){return s}});T&&(("popstate"===d?s.onpopstate:s.onhashchange)||b).call(s,c);for(var g=0,h=f.length;g<h;g++)f[g].call(s,c);return p}return N(a,c)}function j(){var a=u.createEvent?u.createEvent("Event"):u.createEventObject();a.initEvent?a.initEvent("popstate",r,r):a.type="popstate",a.state=A.state,i(a)}function k(a,b,d,e){D?R=y.href:(0===V&&(V=2),b=c(b,2===V&&-1!==(""+b).indexOf("#")),b.c!==c().c&&(R=e,d?y.replace("#"+b.f):y.hash=b.f)),!E&&a&&(W[y.href]=a),U=r}function l(a){var b=R;if(R=y.href,b){S!==y.href&&j();var a=a||s.event,b=c(b,p),d=c();a.oldURL||(a.oldURL=b.b,a.newURL=d.b),b.a!==d.a&&i(a)}}function m(a){setTimeout(function(){L("popstate",function(a){S=y.href,E||(a=e(a,"state",{get:function(){return A.state}})),i(a)},r)},0),!D&&a!==p&&"location"in A&&(o(G.hash),U&&(U=r,j()))}function n(a){var b,a=a||s.event;a:{for(b=a.target||a.srcElement;b;){if("A"===b.nodeName)break a;b=b.parentNode}b=void 0}var d="defaultPrevented"in a?a.defaultPrevented:a.returnValue===r;b&&"A"===b.nodeName&&!d&&(d=c(),b=c(b.getAttribute("href",2)),d.b.split("#").shift()===b.b.split("#").shift()&&b.a&&(d.a!==b.a&&(G.hash=b.a),o(b.a),a.preventDefault?a.preventDefault():a.returnValue=r))}function o(a){var b=u.getElementById(a=(a||"").replace(/^#/,""));b&&b.id===a&&"A"===b.nodeName&&(a=b.getBoundingClientRect(),s.scrollTo(v.scrollLeft||0,a.top+(v.scrollTop||0)-(v.clientTop||0)))}var p=!0,q=null,r=!1,s=("object"==typeof window?window:this)||{};if(!s.history||"emulate"in s.history)return s.history;var t,u=s.document,v=u.documentElement,w=s.Object,x=s.JSON,y=s.location,z=s.history,A=z,B=z.pushState,C=z.replaceState,D=function(){var a=s.navigator.userAgent;return-1===a.indexOf("Android 2.")&&-1===a.indexOf("Android 4.0")||-1===a.indexOf("Mobile Safari")||-1!==a.indexOf("Chrome")||-1!==a.indexOf("Windows Phone")?!!B:r}(),E="state"in z,F=w.defineProperty,G=e({},"t")?{}:u.createElement("a"),H="",I=s.addEventListener?"addEventListener":(H="on")&&"attachEvent",J=s.removeEventListener?"removeEventListener":"detachEvent",K=s.dispatchEvent?"dispatchEvent":"fireEvent",L=s[I],M=s[J],N=s[K],O={basepath:"/",redirect:0,type:"/",init:0},P="__historyAPI__",Q=u.createElement("a"),R=y.href,S="",T=1,U=r,V=0,W={},X={},Y=u.title,Z={onhashchange:q,onpopstate:q},$={setup:function(a,b,c){O.basepath=(""+(a==q?O.basepath:a)).replace(/(?:^|\/)[^\/]*$/,"/"),O.type=b==q?O.type:b,O.redirect=c==q?O.redirect:!!c},redirect:function(a,b){if(A.setup(b,a),b=O.basepath,s.top==s.self){var d=c(q,r,p).c,e=y.pathname+y.search;D?(e=e.replace(/([^\/])$/,"$1/"),d!=b&&RegExp("^"+b+"$","i").test(e)&&y.replace(d)):e!=b&&(e=e.replace(/([^\/])\?/,"$1/?"),RegExp("^"+b,"i").test(e)&&y.replace(b+"#"+e.replace(RegExp("^"+b,"i"),O.type)+y.hash))}},pushState:function(b,c,d){var e=u.title;Y!=q&&(u.title=Y),B&&a(B,arguments),k(b,d),u.title=e,Y=c},replaceState:function(b,c,d){var e=u.title;Y!=q&&(u.title=Y),delete W[y.href],C&&a(C,arguments),k(b,d,p),u.title=e,Y=c},location:{set:function(a){0===V&&(V=1),s.location=a},get:function(){return 0===V&&(V=1),G}},state:{get:function(){return"object"==typeof W[y.href]?x.parse(x.stringify(W[y.href])):void 0!==W[y.href]?W[y.href]:q}}},_={assign:function(a){D||0!==(""+a).indexOf("#")?y.assign(a):k(q,a)},reload:function(a){y.reload(a)},replace:function(a){D||0!==(""+a).indexOf("#")?y.replace(a):k(q,a,p)},toString:function(){return this.href},origin:{get:function(){return void 0!==t?t:y.origin?y.origin:y.protocol+"//"+y.hostname+(y.port?":"+y.port:"")},set:function(a){t=a}},href:D?q:{get:function(){return c().b}},protocol:q,host:q,hostname:q,port:q,pathname:D?q:{get:function(){return c().d}},search:D?q:{get:function(){return c().e}},hash:D?q:{set:function(a){k(q,(""+a).replace(/^(#|)/,"#"),r,R)},get:function(){return c().a}}};return function(){var a=u.getElementsByTagName("script"),a=(a[a.length-1]||{}).src||"";(-1!==a.indexOf("?")?a.split("?").pop():"").replace(/(\w+)(?:=([^&]*))?/g,function(a,b,c){O[b]=(c||"").replace(/^(0|false)$/,"")}),L(H+"hashchange",l,r);var b=[_,G,Z,s,$,A];E&&delete $.state;for(var g=0;g<b.length;g+=2)for(var h in b[g])if(b[g].hasOwnProperty(h))if("object"!=typeof b[g][h])b[g+1][h]=b[g][h];else{if(a=f(b[g],h,b[g][h]),!e(b[g+1],h,a,function(a,c){c===A&&(s.history=A=b[g+1]=a)}))return M(H+"hashchange",l,r),r;b[g+1]===s&&(X[h]=X[h.substr(2)]=[])}return A.setup(),O.redirect&&A.redirect(),O.init&&(V=1),!E&&x&&d(),D||u[I](H+"click",n,r),"complete"===u.readyState?m(p):(!D&&c().c!==O.basepath&&(U=p),L(H+"load",m,r)),p}()?(A.emulate=!D,s[I]=g,s[J]=h,s[K]=i,A):void 0});var _fastClick={};!function(){"use strict";function a(b,d){var e;if(d=d||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=d.touchBoundary||10,this.layer=b,this.tapDelay=d.tapDelay||200,this.tapTimeout=d.tapTimeout||700,!a.notNeeded(b)){for(var f=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],g=this,h=0,i=f.length;h<i;h++)g[f[h]]=function(a,b){return function(){return a.apply(b,arguments)}}(g[f[h]],g);c&&(b.addEventListener("mouseover",this.onMouse,!0),b.addEventListener("mousedown",this.onMouse,!0),b.addEventListener("mouseup",this.onMouse,!0)),b.addEventListener("click",this.onClick,!0),b.addEventListener("touchstart",this.onTouchStart,!1),b.addEventListener("touchmove",this.onTouchMove,!1),b.addEventListener("touchend",this.onTouchEnd,!1),b.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(b.removeEventListener=function(a,c,d){var e=Node.prototype.removeEventListener;"click"===a?e.call(b,a,c.hijacked||c,d):e.call(b,a,c,d)},b.addEventListener=function(a,c,d){var e=Node.prototype.addEventListener;"click"===a?e.call(b,a,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(b,a,c,d)}),"function"==typeof b.onclick&&(e=b.onclick,b.addEventListener("click",function(a){e(a)},!1),b.onclick=null)}}var b=navigator.userAgent.indexOf("Windows Phone")>=0,c=navigator.userAgent.indexOf("Android")>0&&!b,d=/iP(ad|hone|od)/.test(navigator.userAgent)&&!b,e=d&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=d&&/OS [6-7]_\d/.test(navigator.userAgent),g=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(d&&"file"===a.type||a.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(a.className)},a.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},a.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},a.prototype.determineEventType=function(a){return c&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(a){var b;d&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type&&"month"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},a.prototype.updateScrollParent=function(a){var b,c;if(!(b=a.fastClickScrollParent)||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},a.prototype.onTouchStart=function(a){var b,c,f;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],d){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!e){if(c.identifier&&c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},a.prototype.touchHasMoved=function(a){var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c},a.prototype.onTouchMove=function(a){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0)},a.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(a){var b,g,h,i,j,k=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(a.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,g=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(j=a.changedTouches[0],k=document.elementFromPoint(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)||k,k.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(h=k.tagName.toLowerCase())){if(b=this.findControl(k)){if(this.focus(k),c)return!1;k=b}}else if(this.needsFocus(k))return a.timeStamp-g>100||d&&window.top!==window&&"input"===h?(this.targetElement=null,!1):(this.focus(k),this.sendClick(k,a),d&&"select"===h||(this.targetElement=null,a.preventDefault()),!1);return!(!d||e||!(i=k.fastClickScrollParent)||i.fastClickLastScrollTop===i.scrollTop)||(this.needsClick(k)||(a.preventDefault(),this.sendClick(k,a)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(a){return!this.targetElement||(!!a.forwardedTouchEvent||(!a.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1))))},a.prototype.onClick=function(a){var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail||(b=this.onMouse(a),b||(this.targetElement=null),b)},a.prototype.destroy=function(){var a=this.layer;c&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(a){var b,d,e;if(void 0===window.ontouchstart)return!0;if(d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!c)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(d>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(g&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),e[1]>=10&&e[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===a.style.msTouchAction||"manipulation"===a.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(b=document.querySelector("meta[name=viewport]"))&&(-1!==b.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===a.style.touchAction||"manipulation"===a.style.touchAction))},a.attach=function(b,c){return new a(b,c)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?(module.exports=a.attach,module.exports.FastClick=a):window.FastClick=a,window.FastClick=a}(),function(a){var b=function(a){return a.split("").reverse().join("")},c={numberStep:function(b,c){var d=Math.floor(b);a(c.elem).text(d)}},d=function(a){var b=a.elem;if(b.nodeType&&b.parentNode){var d=b._animateNumberSetter;d||(d=c.numberStep),d(a.now,a)}};a.Tween&&a.Tween.propHooks?a.Tween.propHooks.number={set:d}:a.fx.step.number=d;var e=function(a,b){for(var c,d,e,f=a.split("").reverse(),g=[],h=0,i=Math.ceil(a.length/b);h<i;h++){for(c="",e=0;e<b&&(d=h*b+e)!==a.length;e++)c+=f[d];g.push(c)}return g},f=function(a){var c=a.length-1,d=b(a[c]);return a[c]=b(parseInt(d,10).toString()),a};a.animateNumber={numberStepFactories:{append:function(b){return function(c,d){var e=Math.floor(c);a(d.elem).prop("number",c).text(e+b)}},separator:function(c,d,g){return c=c||" ",d=d||3,g=g||"",function(h,i){var j=Math.floor(h),k=j.toString(),l=a(i.elem);if(k.length>d){var m=e(k,d);k=f(m).join(c),k=b(k)}l.prop("number",h).text(k+g)}}}},a.fn.animateNumber=function(){for(var b=arguments[0],d=a.extend({},c,b),e=a(this),f=[d],g=1,h=arguments.length;g<h;g++)f.push(arguments[g]);if(b.numberStep){var i=this.each(function(){this._animateNumberSetter=b.numberStep}),j=d.complete;d.complete=function(){i.each(function(){delete this._animateNumberSetter}),j&&j.apply(this,arguments)}}return e.animate.apply(e,f)}}(jQuery),function(){var a;a=window.jQuery||window.Zepto||window.$,a.fn.fancySelect=function(b){var c,d;return null==b&&(b={}),d=a.extend({forceiOS:!1,includeBlank:!1,optionTemplate:function(a){return a.text()},triggerTemplate:function(a){return a.text()}},b),c=!!navigator.userAgent.match(/iP(hone|od|ad)/i),this.each(function(){var b,e,f,g,h,i,j;if(g=a(this),!g.hasClass("fancified")&&"SELECT"===g[0].tagName)return g.addClass("fancified"),g.css({display:"block",position:"absolute",top:0,left:0,opacity:0}),g.wrap('<div class="fancy-select">'),j=g.parent(),g.data("class")&&j.addClass(g.data("class")),j.append('<div class="trigger">'),c&&!d.forceiOS||j.append('<ul class="options">'),h=j.find(".trigger"),f=j.find(".options"),e=g.prop("disabled"),e&&j.addClass("disabled"),i=function(){var a;g.find(":selected");return a=d.triggerTemplate(g.find(":selected")),h.html(a)},g.on("blur.fs",function(){if(h.hasClass("open"))return setTimeout(function(){return h.trigger("close.fs")},120)}),h.on("close.fs",function(){return h.removeClass("open"),f.removeClass("open")}),h.on("click.fs",function(){var b;if(!e)if(h.toggleClass("open"),c&&!d.forceiOS){if(h.hasClass("open"))return g.focus()}else if(h.hasClass("open")&&(b=h.parent(),b.offsetParent(),b.offset().top+b.outerHeight()+f.outerHeight()+20>a(window).height()+a(window).scrollTop()?f.addClass("overflowing"):f.removeClass("overflowing")),f.toggleClass("open"),!c)return g.focus()}),g.on("enable",function(){return g.prop("disabled",!1),j.removeClass("disabled"),e=!1,b()}),g.on("disable",function(){return g.prop("disabled",!0),j.addClass("disabled"),e=!0}),g.on("change.fs",function(a){return a.originalEvent&&a.originalEvent.isTrusted?a.stopPropagation():i()}),g.on("keydown",function(a){var b,c,d;if(d=a.which,b=f.find(".hover"),b.removeClass("hover"),f.hasClass("open")){if(38===d?(a.preventDefault(),b.length&&b.index()>0?b.prev().addClass("hover"):f.find("li:last-child").addClass("hover")):40===d?(a.preventDefault(),b.length&&b.index()<f.find("li").length-1?b.next().addClass("hover"):f.find("li:first-child").addClass("hover")):27===d?(a.preventDefault(),h.trigger("click.fs")):13===d||32===d?(a.preventDefault(),b.trigger("mousedown.fs")):9===d&&h.hasClass("open")&&h.trigger("close.fs"),c=f.find(".hover"),c.length)return f.scrollTop(0),f.scrollTop(c.position().top-12)}else if(13===d||32===d||38===d||40===d)return a.preventDefault(),h.trigger("click.fs")}),f.on("mousedown.fs","li",function(b){var d;return d=a(this),g.val(d.data("raw-value")),c||g.trigger("blur.fs").trigger("focus.fs"),f.find(".selected").removeClass("selected"),d.addClass("selected"),h.addClass("selected"),g.val(d.data("raw-value")).trigger("change.fs").trigger("blur.fs").trigger("focus.fs")}),f.on("mouseenter.fs","li",function(){var b,c;return c=a(this),b=f.find(".hover"),b.removeClass("hover"),c.addClass("hover")}),f.on("mouseleave.fs","li",function(){return f.find(".hover").removeClass("hover")}),b=function(){if(i(),!c||d.forceiOS)return g.find("option"),g.find("option").each(function(b,c){var e;if(c=a(c),!c.prop("disabled")&&(c.val()||d.includeBlank))return e=d.optionTemplate(c),c.prop("selected")?f.append('<li data-raw-value="'+c.val()+'" class="selected">'+e+"</li>"):f.append('<li data-raw-value="'+c.val()+'">'+e+"</li>")})},g.on("update.fs",function(){return j.find(".options").empty(),b()}),b()})}}.call(this),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){var b=-1,c=-1,d=function(a){return parseFloat(a)||0},e=function(b){var c=a(b),e=null,f=[];return c.each(function(){var b=a(this),c=b.offset().top-d(b.css("margin-top")),g=f.length>0?f[f.length-1]:null;null===g?f.push(b):Math.floor(Math.abs(e-c))<=1?f[f.length-1]=g.add(b):f.push(b),e=c}),f},f=function(b){var c={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof b?a.extend(c,b):("boolean"==typeof b?c.byRow=b:"remove"===b&&(c.remove=!0),c)},g=a.fn.matchHeight=function(b){var c=f(b);if(c.remove){var d=this;return this.css(c.property,""),a.each(g._groups,function(a,b){b.elements=b.elements.not(d)}),this}return this.length<=1&&!c.target?this:(g._groups.push({elements:this,options:c}),g._apply(this,c),this)};g.version="0.7.0",g._groups=[],g._throttle=80,g._maintainScroll=!1,g._beforeUpdate=null,g._afterUpdate=null,g._rows=e,g._parse=d,g._parseOptions=f,g._apply=function(b,c){var h=f(c),i=a(b),j=[i],k=a(window).scrollTop(),l=a("html").outerHeight(!0),m=i.parents().filter(":hidden");return m.each(function(){var b=a(this);b.data("style-cache",b.attr("style"))}),m.css("display","block"),h.byRow&&!h.target&&(i.each(function(){var b=a(this),c=b.css("display");"inline-block"!==c&&"flex"!==c&&"inline-flex"!==c&&(c="block"),b.data("style-cache",b.attr("style")),b.css({display:c,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),j=e(i),i.each(function(){var b=a(this);b.attr("style",b.data("style-cache")||"")})),a.each(j,function(b,c){var e=a(c),f=0;if(h.target)f=h.target.outerHeight(!1);else{if(h.byRow&&e.length<=1)return void e.css(h.property,"");e.each(function(){var b=a(this),c=b.attr("style"),d=b.css("display");"inline-block"!==d&&"flex"!==d&&"inline-flex"!==d&&(d="block");var e={display:d};e[h.property]="",b.css(e),b.outerHeight(!1)>f&&(f=b.outerHeight(!1)),c?b.attr("style",c):b.css("display","")})}e.each(function(){var b=a(this),c=0;h.target&&b.is(h.target)||("border-box"!==b.css("box-sizing")&&(c+=d(b.css("border-top-width"))+d(b.css("border-bottom-width")),c+=d(b.css("padding-top"))+d(b.css("padding-bottom"))),b.css(h.property,f-c+"px"))})}),m.each(function(){var b=a(this);b.attr("style",b.data("style-cache")||null)}),g._maintainScroll&&a(window).scrollTop(k/l*a("html").outerHeight(!0)),this},g._applyDataApi=function(){var b={};a("[data-match-height], [data-mh]").each(function(){var c=a(this),d=c.attr("data-mh")||c.attr("data-match-height");b[d]=d in b?b[d].add(c):c}),a.each(b,function(){this.matchHeight(!0)})};var h=function(b){g._beforeUpdate&&g._beforeUpdate(b,g._groups),a.each(g._groups,function(){g._apply(this.elements,this.options)}),g._afterUpdate&&g._afterUpdate(b,g._groups)};g._update=function(d,e){if(e&&"resize"===e.type){var f=a(window).width();if(f===b)return;b=f}d?-1===c&&(c=setTimeout(function(){h(e),c=-1},g._throttle)):h(e)},a(g._applyDataApi),a(window).bind("load",function(a){g._update(!1,a)}),a(window).bind("resize orientationchange",function(a){g._update(!0,a)})}),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=[].slice,z=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};a=window.jQuery||window.Zepto||window.$,a.payment={},a.payment.fn={},a.fn.payment=function(){var b,c;return c=arguments[0],b=2<=arguments.length?y.call(arguments,1):[],a.payment.fn[c].apply(this,b)},e=/(\d{1,4})/g,a.payment.cards=d=[{type:"visaelectron",patterns:[4026,417500,4405,4508,4844,4913,4917],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"maestro",patterns:[5018,502,503,56,58,639,6220,67],format:e,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",patterns:[600],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",patterns:[5019],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"visa",patterns:[4],format:e,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",patterns:[51,52,53,54,55,22,23,24,25,26,27],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"amex",patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",patterns:[60,64,65,622],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",patterns:[62,88],format:e,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",patterns:[35],format:e,length:[16],cvcLength:[3],luhn:!0}],b=function(a){var b,c,e,f,g,h,i,j;for(a=(a+"").replace(/\D/g,""),f=0,h=d.length;f<h;f++)for(b=d[f],j=b.patterns,g=0,i=j.length;g<i;g++)if(e=j[g],c=e+"",a.substr(0,c.length)===c)return b},c=function(a){var b,c,e;for(c=0,e=d.length;c<e;c++)if(b=d[c],b.type===a)return b},m=function(a){var b,c,d,e,f,g;for(d=!0,e=0,c=(a+"").split("").reverse(),f=0,g=c.length;f<g;f++)b=c[f],b=parseInt(b,10),(d=!d)&&(b*=2),b>9&&(b-=9),e+=b;return e%10==0},l=function(a){var b;return null!=a.prop("selectionStart")&&a.prop("selectionStart")!==a.prop("selectionEnd")||!(null==("undefined"!=typeof document&&null!==document&&null!=(b=document.selection)?b.createRange:void 0)||!document.selection.createRange().text)},w=function(a,b){var c,d;try{c=b.prop("selectionStart")}catch(a){a,c=null}if(d=b.val(),b.val(a),
null!==c&&b.is(":focus"))return c===d.length&&(c=a.length),b.prop("selectionStart",c),b.prop("selectionEnd",c)},r=function(a){var b,c,d,e,f,g,h,i;for(null==a&&(a=""),d="",e="0123456789",g="",b=a.split(""),h=0,i=b.length;h<i;h++)c=b[h],f=d.indexOf(c),f>-1&&(c=e[f]),g+=c;return g},q=function(b){var c;return c=a(b.currentTarget),setTimeout(function(){var a;return a=c.val(),a=r(a),a=a.replace(/\D/g,""),w(a,c)})},o=function(b){var c;return c=a(b.currentTarget),setTimeout(function(){var b;return b=c.val(),b=r(b),b=a.payment.formatCardNumber(b),w(b,c)})},h=function(c){var d,e,f,g,h,i,j;if(f=String.fromCharCode(c.which),/^\d+$/.test(f)&&(d=a(c.currentTarget),j=d.val(),e=b(j+f),g=(j.replace(/\D/g,"")+f).length,i=16,e&&(i=e.length[e.length.length-1]),!(g>=i||null!=d.prop("selectionStart")&&d.prop("selectionStart")!==j.length)))return h=e&&"amex"===e.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,h.test(j)?(c.preventDefault(),setTimeout(function(){return d.val(j+" "+f)})):h.test(j+f)?(c.preventDefault(),setTimeout(function(){return d.val(j+f+" ")})):void 0},f=function(b){var c,d;if(c=a(b.currentTarget),d=c.val(),8===b.which&&(null==c.prop("selectionStart")||c.prop("selectionStart")===d.length))return/\d\s$/.test(d)?(b.preventDefault(),setTimeout(function(){return c.val(d.replace(/\d\s$/,""))})):/\s\d?$/.test(d)?(b.preventDefault(),setTimeout(function(){return c.val(d.replace(/\d$/,""))})):void 0},p=function(b){var c;return c=a(b.currentTarget),setTimeout(function(){var b;return b=c.val(),b=r(b),b=a.payment.formatExpiry(b),w(b,c)})},i=function(b){var c,d,e;if(d=String.fromCharCode(b.which),/^\d+$/.test(d))return c=a(b.currentTarget),e=c.val()+d,/^\d$/.test(e)&&"0"!==e&&"1"!==e?(b.preventDefault(),setTimeout(function(){return c.val("0"+e+" / ")})):/^\d\d$/.test(e)?(b.preventDefault(),setTimeout(function(){var a,b;return a=parseInt(e[0],10),b=parseInt(e[1],10),b>2&&0!==a?c.val("0"+a+" / "+b):c.val(e+" / ")})):void 0},j=function(b){var c,d,e;if(d=String.fromCharCode(b.which),/^\d+$/.test(d))return c=a(b.currentTarget),e=c.val(),/^\d\d$/.test(e)?c.val(e+" / "):void 0},k=function(b){var c,d,e;if("/"===(e=String.fromCharCode(b.which))||" "===e)return c=a(b.currentTarget),d=c.val(),/^\d$/.test(d)&&"0"!==d?c.val("0"+d+" / "):void 0},g=function(b){var c,d;if(c=a(b.currentTarget),d=c.val(),8===b.which&&(null==c.prop("selectionStart")||c.prop("selectionStart")===d.length))return/\d\s\/\s$/.test(d)?(b.preventDefault(),setTimeout(function(){return c.val(d.replace(/\d\s\/\s$/,""))})):void 0},n=function(b){var c;return c=a(b.currentTarget),setTimeout(function(){var a;return a=c.val(),a=r(a),a=a.replace(/\D/g,"").slice(0,4),w(a,c)})},v=function(a){var b;return!(!a.metaKey&&!a.ctrlKey)||32!==a.which&&(0===a.which||(a.which<33||(b=String.fromCharCode(a.which),!!/[\d\s]/.test(b))))},t=function(c){var d,e,f,g;if(d=a(c.currentTarget),f=String.fromCharCode(c.which),/^\d+$/.test(f)&&!l(d))return g=(d.val()+f).replace(/\D/g,""),e=b(g),e?g.length<=e.length[e.length.length-1]:g.length<=16},u=function(b){var c,d,e;if(c=a(b.currentTarget),d=String.fromCharCode(b.which),/^\d+$/.test(d)&&!l(c))return e=c.val()+d,e=e.replace(/\D/g,""),!(e.length>4)&&void 0},s=function(b){var c,d,e;if(c=a(b.currentTarget),d=String.fromCharCode(b.which),/^\d+$/.test(d)&&!l(c))return e=c.val()+d,e.length<=4},x=function(b){var c,e,f,g,h;if(c=a(b.currentTarget),h=c.val(),g=a.payment.cardType(h)||"unknown",!c.hasClass(g))return e=function(){var a,b,c;for(c=[],a=0,b=d.length;a<b;a++)f=d[a],c.push(f.type);return c}(),c.removeClass("unknown"),c.removeClass(e.join(" ")),c.addClass(g),c.toggleClass("identified","unknown"!==g),c.trigger("payment.cardType",g)},a.payment.fn.formatCardCVC=function(){return this.on("keypress",v),this.on("keypress",s),this.on("paste",n),this.on("change",n),this.on("input",n),this},a.payment.fn.formatCardExpiry=function(){return this.on("keypress",v),this.on("keypress",u),this.on("keypress",i),this.on("keypress",k),this.on("keypress",j),this.on("keydown",g),this.on("change",p),this.on("input",p),this},a.payment.fn.formatCardNumber=function(){return this.on("keypress",v),this.on("keypress",t),this.on("keypress",h),this.on("keydown",f),this.on("keyup",x),this.on("paste",o),this.on("change",o),this.on("input",o),this.on("input",x),this},a.payment.fn.restrictNumeric=function(){return this.on("keypress",v),this.on("paste",q),this.on("change",q),this.on("input",q),this},a.payment.fn.cardExpiryVal=function(){return a.payment.cardExpiryVal(a(this).val())},a.payment.cardExpiryVal=function(a){var b,c,d,e;return e=a.split(/[\s\/]+/,2),b=e[0],d=e[1],2===(null!=d?d.length:void 0)&&/^\d+$/.test(d)&&(c=(new Date).getFullYear(),c=c.toString().slice(0,2),d=c+d),b=parseInt(b,10),d=parseInt(d,10),{month:b,year:d}},a.payment.validateCardNumber=function(a){var c,d;return a=(a+"").replace(/\s+|-/g,""),!!/^\d+$/.test(a)&&(!!(c=b(a))&&(d=a.length,z.call(c.length,d)>=0&&(!1===c.luhn||m(a))))},a.payment.validateCardExpiry=function(b,c){var d,e,f;return"object"==typeof b&&"month"in b&&(f=b,b=f.month,c=f.year),!(!b||!c)&&(b=a.trim(b),c=a.trim(c),!!/^\d+$/.test(b)&&(!!/^\d+$/.test(c)&&(1<=b&&b<=12&&(2===c.length&&(c=c<70?"20"+c:"19"+c),4===c.length&&(e=new Date(c,b),d=new Date,e.setMonth(e.getMonth()-1),e.setMonth(e.getMonth()+1,1),e>d)))))},a.payment.validateCardCVC=function(b,d){var e,f;return b=a.trim(b),!!/^\d+$/.test(b)&&(e=c(d),null!=e?(f=b.length,z.call(e.cvcLength,f)>=0):b.length>=3&&b.length<=4)},a.payment.cardType=function(a){var c;return a?(null!=(c=b(a))?c.type:void 0)||null:null},a.payment.formatCardNumber=function(c){var d,e,f,g;return c=c.replace(/\D/g,""),(d=b(c))?(f=d.length[d.length.length-1],c=c.slice(0,f),d.format.global?null!=(g=c.match(d.format))?g.join(" "):void 0:null!=(e=d.format.exec(c))?(e.shift(),e=a.grep(e,function(a){return a}),e.join(" ")):void 0):c},a.payment.formatExpiry=function(a){var b,c,d,e;return(c=a.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(b=c[1]||"",d=c[2]||"",e=c[3]||"",e.length>0?d=" / ":" /"===d?(b=b.substring(0,1),d=""):2===b.length||d.length>0?d=" / ":1===b.length&&"0"!==b&&"1"!==b&&(b="0"+b,d=" / "),b+d+e):""}}.call(this),function(a,b){var c=function(a,b,c){var d;return function(){function e(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||100)}};jQuery.fn[b]=function(a){return a?this.bind("resize",c(a)):this.trigger(b)}}(jQuery,"smartresize"),$(function(){function a(a){$(a.target).val()?$(a.target).siblings("label").addClass("small").removeClass("overlay"):$(a.target).siblings("label, .forgot").addClass("overlay").removeClass("small")}function b(b){$(this).removeClass("error"),$(this).siblings(".input-error").hide(),a(b)}function c(a){$(a.target).siblings("label, .forgot").addClass("small").removeClass("overlay")}function d(a){$(a.target).siblings("input").focus()}function e(a){$(this).hide(),$(this).siblings("input").removeClass("error").focus()}$(".js-card-number").payment("formatCardNumber",function(){console.log(this)}),$(".js-card-security").payment("formatCardCVC"),$(".js-card-expires").payment("formatCardExpiry");var f=["mastercard","visa","amex","dinersclub","discover"];$(".js-card-number").keyup(function(){var a=$(".js-card-icon"),b=$(".js-card-number").val(),c=$.payment.validateCardNumber(b),d=$.payment.cardType(b);if(c&&-1!==$.inArray(d,f)){var e="/assets/images/cc-"+d+".svg";a.attr("src",e),a.fadeIn(250);var g=$(this).closest("form").find(":input");g.eq(g.index(this)+1).focus()}else a.fadeOut(250)}),$(".js-card-expires").keyup(function(){if(7==$(".js-card-expires").val().length){var a=$(this).closest("form").find(":input");a.eq(a.index(this)+1).focus()}}),$("body").on("blur",".fancy-text-input > input",a),$("body").on("focus",".fancy-text-input > input",b),$("body").on("keydown",".fancy-text-input > input",c),$("body").on("click",".fancy-text-input > label",d),$("body").on("click",".input-error",e),$(".fancy-text-input input").each(function(){$(this).val().length&&$(this).siblings("label, .forgot").addClass("small").removeClass("overlay")})});var cardCallbacks={};cardCallbacks.error=function(){setTimeout(function(){$(".error-mark").addClass("is-animated")},600)};var bp={xs:500,s:700,m:900,l:1100,xl:1400};$(function(){function a(a){return!0}function b(a){d.eq(j);"next"==a?j++:j--;var b=100/k*j;b+="%",h.width(b);var c="Step "+j+" of "+k;i.text(c)}function c(a,c){var d=$(".js-card-section:visible"),h=d.height();a.show();var i=a.height();if(a.hide(),e.height(h),d.fadeOut(200,function(){a.fadeIn(200)}),e.animate({height:i},400,function(){e.height("")}),$("html,body").animate({scrollTop:80},200),f.text(a.attr("data-section-title")),a[0].hasAttribute("data-card-counted")){a.attr("");c&&b(c)}a[0].hasAttribute("data-hide-progress")?g.hide():g.show();var j=a.attr("id").replace("card-","");j=camelCase(j),$.isFunction(cardCallbacks[j])&&cardCallbacks[j]()}$(".js-caj-form").on("keyup keypress",function(a){if(13===(a.keyCode||a.which))return a.preventDefault(),!1}),$fancySelectEls=$(".fancy-select"),$fancySelectEls.fancySelect(),$(".floated-checkbox-wrap").each(function(a){var b=$(this).find(".floated-text"),c=$(this).find(".floated-checkbox input");b.click(function(a){a.preventDefault(),c.trigger("click")})}),$(".js-password-toggle").click(function(a){a.preventDefault();var b=$(this),c=$(this).parent().find("input").first();"password"==c.attr("type")?(b.text(DowJones.Translate.translateToken("hideLbl")),c.attr("type","text")):(b.text(DowJones.Translate.translateToken("showLbl")),c.attr("type","password"))}),$(".js-email-error-note").hide(),$(".js-email-input").blur(function(){var b=$(this).val(),c=$(this).parent();a(b)||(c.addClass("fancy-text-input--error"),$(".js-email-error-note").fadeIn(250))}),$(".js-email-input").keyup(function(){var b=$(this).val(),c=$(this).parent();a(b)&&(c.removeClass("fancy-text-input--error"),$(".js-email-error-note").fadeOut(250))}),$(".js-show-hidden-terms").click(function(a){a.preventDefault(),$(this).remove(),$(".js-hidden-terms").show()}),$(".bigradios input").change(function(){$input=$(this),$radioGroup=$input.parent().parent(),$radioItem=$input.parent(),$radioGroup.find("li").removeClass("active"),$radioItem.addClass("active")}),$(".bigradios > li").click(function(a){return a.preventDefault(),$radio=$(this).find("input"),$radio[0].checked=!0,$radio.trigger("change"),!1});var d=$(".js-card-section"),e=$(".js-card-append"),f=$(".js-card-title"),g=$(".js-progress"),h=$(".js-progress-complete"),i=$(".js-progress-step"),j=0,k=$(".js-card-section[data-card-counted]").length;d.first().show(),b("next"),$("body").on("click",".js-card-action",function(a){a.preventDefault();var b=$(this).attr("data-direction"),d="#card-"+$(this).attr("href"),e=$(d);e.length?c(e,b):alert("You cannot transition to a card that does not exist.")})}),function(){function a(a){return"data:image/svg+xml;base64,"+$(a).attr("svgbase64")}var b=DowJones.Config.Settings.appVersion,c=$("html").hasClass("ie8"),d=c?baseUrl+"img/global/checkbox.png?v="+b:a("#svg-common-checkbox"),e='.form input[type="checkbox"] + label span { background: url('+d+") 0 0 no-repeat;} ";e+=".form.loading .solid-button::after { background: url('"+baseUrl+"img/global/loading.png?v="+b+"') transparent no-repeat center } ",e+=".form.success .solid-button::after { background: url('"+baseUrl+"img/global/success.png?v="+b+"') transparent no-repeat center } ",$('<style type="text/css">'+e+"</style>").appendTo("head"),c?($('div[data-token="showLbl"]').hide(),$("#headerImgUrl img").attr("src",baseUrl+"img/global/factiva-inline_dark.png?v="+b),$(".footer__powered img").attr("src",baseUrl+"img/global/powered-by-logo.png?v="+b),$("#language-globe").attr("src",baseUrl+"img/common/globe.png?v="+b),$("#rememberme").on("click",function(){$(this).find("#remember").is(":checked")?$("#rememberme").find("label span").attr("style","background-position:0 0"):$("#rememberme").find("label span").attr("style","background-position:0 -12px")})):($("#headerImgUrl img").attr("src",a("#factiva-inline-dark")),$(".footer__powered img").attr("src",a("#poweredbydj")),$("#language-globe").attr("src",a("#dj-globe"))),$("#down-arrow").attr("src",a("#common-arrow-down")),$("#card-error img").attr("src",a("#common-error-icon")),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$("#headerImgUrl img").attr("src",a("#dowjones-factiva-mob"))}();